{
  "id": "session_1754743434982",
  "startTime": 1754743434982,
  "config": {
    "type": "development",
    "goal": "Measure and optimize development velocity",
    "features": [
      "location-service",
      "api-integration",
      "testing"
    ]
  },
  "metrics": {
    "development": {
      "Global Location Service": {
        "activity": "Global Location Service",
        "type": "complex_service",
        "complexity": "high",
        "startTime": 1754743434983,
        "benchmark": {
          "traditional": 576000000
        },
        "metrics": {
          "linesOfCode": 0,
          "filesCreated": 0,
          "testsWritten": 0,
          "errorsFixed": 0
        },
        "endTime": 1754743434983,
        "duration": 0,
        "results": {
          "linesOfCode": 400,
          "filesCreated": 1,
          "testsWritten": 0,
          "errorsFixed": 5
        },
        "acceleration": null
      }
    },
    "testing": {
      "passed": 0,
      "failed": 0,
      "total": 0,
      "duration": 47978,
      "velocity": 0,
      "acceleration": 1,
      "error": "Command failed: npm test -- --passWithNoTests --verbose\nwatchman warning:  opendir(/Users/amanianai/Library/Containers/com.apple.corerecents.recentsd/Data/Library/Recents) -> Operation not permitted. Marking this portion of the tree deleted\nTo clear this warning, run:\n`watchman watch-del '/Users/amanianai' ; watchman watch-project '/Users/amanianai'`\n\nFAIL src/services/__tests__/location.test.ts\n  Location Service\n    requestLocationPermissions\n      ✕ should return true when permission is granted (2 ms)\n      ✕ should return false when permission is denied\n      ✓ should handle permission request errors (1 ms)\n    getCurrentLocation\n      ✕ should return location data when permission is granted\n      ✕ should return null when permission is denied\n      ✕ should handle location fetch errors (1 ms)\n      ✕ should use high accuracy for location requests\n    watchLocation\n      ✕ should set up location watching with correct parameters\n      ✕ should call callback with transformed location data (1 ms)\n      ✕ should handle missing accuracy gracefully\n    Location Data Validation\n      ✕ should validate GPS coordinates\n      ✕ should calculate distance between coordinates\n\n  ● Location Service › requestLocationPermissions › should return true when permission is granted\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      12 |   describe('requestLocationPermissions', () => {\n      13 |     it('should return true when permission is granted', async () => {\n    > 14 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      15 |         createMockLocationPermission(true)\n      16 |       );\n      17 |\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:14:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › requestLocationPermissions › should return false when permission is denied\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      23 |\n      24 |     it('should return false when permission is denied', async () => {\n    > 25 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      26 |         createMockLocationPermission(false)\n      27 |       );\n      28 |\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:25:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › getCurrentLocation › should return location data when permission is granted\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      45 |   describe('getCurrentLocation', () => {\n      46 |     it('should return location data when permission is granted', async () => {\n    > 47 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      48 |         createMockLocationPermission(true)\n      49 |       );\n      50 |       mockLocation.getCurrentPositionAsync.mockResolvedValue(\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:47:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › getCurrentLocation › should return null when permission is denied\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      62 |\n      63 |     it('should return null when permission is denied', async () => {\n    > 64 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      65 |         createMockLocationPermission(false)\n      66 |       );\n      67 |\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:64:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › getCurrentLocation › should handle location fetch errors\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      73 |\n      74 |     it('should handle location fetch errors', async () => {\n    > 75 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      76 |         createMockLocationPermission(true)\n      77 |       );\n      78 |       mockLocation.getCurrentPositionAsync.mockRejectedValue(\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:75:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › getCurrentLocation › should use high accuracy for location requests\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      86 |\n      87 |     it('should use high accuracy for location requests', async () => {\n    > 88 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      89 |         createMockLocationPermission(true)\n      90 |       );\n      91 |       mockLocation.getCurrentPositionAsync.mockResolvedValue(\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:88:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › watchLocation › should set up location watching with correct parameters\n\n    TypeError: Cannot read properties of undefined (reading 'BestForNavigation')\n\n      288 |   return Location.watchPositionAsync(\n      289 |     {\n    > 290 |       accuracy: Location.Accuracy.BestForNavigation,\n          |                                   ^\n      291 |       timeInterval: 500, // 500ms for military precision\n      292 |       distanceInterval: 0.1, // 10cm precision\n      293 |     },\n\n      at BestForNavigation (src/services/location.ts:290:35)\n      at Object.<anonymous> (src/services/__tests__/location.test.ts:110:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › watchLocation › should call callback with transformed location data\n\n    TypeError: Cannot read properties of undefined (reading 'BestForNavigation')\n\n      288 |   return Location.watchPositionAsync(\n      289 |     {\n    > 290 |       accuracy: Location.Accuracy.BestForNavigation,\n          |                                   ^\n      291 |       timeInterval: 500, // 500ms for military precision\n      292 |       distanceInterval: 0.1, // 10cm precision\n      293 |     },\n\n      at BestForNavigation (src/services/location.ts:290:35)\n      at Object.<anonymous> (src/services/__tests__/location.test.ts:133:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › watchLocation › should handle missing accuracy gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'BestForNavigation')\n\n      288 |   return Location.watchPositionAsync(\n      289 |     {\n    > 290 |       accuracy: Location.Accuracy.BestForNavigation,\n          |                                   ^\n      291 |       timeInterval: 500, // 500ms for military precision\n      292 |       distanceInterval: 0.1, // 10cm precision\n      293 |     },\n\n      at BestForNavigation (src/services/location.ts:290:35)\n      at Object.<anonymous> (src/services/__tests__/location.test.ts:159:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › Location Data Validation › should validate GPS coordinates\n\n    TypeError: expect(...).toBeValidGPSCoordinate is not a function\n\n      170 |     it('should validate GPS coordinates', () => {\n      171 |       // Valid coordinates\n    > 172 |       expect(37.7749).toBeValidGPSCoordinate('latitude');\n          |                       ^\n      173 |       expect(-122.4194).toBeValidGPSCoordinate('longitude');\n      174 |       \n      175 |       // Invalid coordinates\n\n      at Object.toBeValidGPSCoordinate (src/services/__tests__/location.test.ts:172:23)\n\n  ● Location Service › Location Data Validation › should calculate distance between coordinates\n\n    TypeError: expect(...).toBeWithinDistance is not a function\n\n      188 |       \n      189 |       // These cities are about 13km apart\n    > 190 |       expect(sanFrancisco).toBeWithinDistance(oakland, 15000); // 15km tolerance\n          |                            ^\n      191 |       \n      192 |       expect(() => {\n      193 |         expect(sanFrancisco).toBeWithinDistance(oakland, 5000); // 5km - should fail\n\n      at Object.toBeWithinDistance (src/services/__tests__/location.test.ts:190:28)\n\nFAIL src/services/__tests__/offline.test.ts\n  Offline Service\n    initializeOfflineService\n      ✓ should set up network state listener (3 ms)\n      ✕ should process offline queue when connection is restored (1 ms)\n      ✓ should not process queue when offline (2 ms)\n    isOnline\n      ✓ should return true when connected\n      ✓ should return false when disconnected (1 ms)\n      ✓ should return false when connection state is null\n    addToOfflineQueue\n      ✓ should add item to offline queue (3 ms)\n      ✓ should create new queue if none exists\n      ✕ should handle storage errors gracefully (2 ms)\n    getOfflineQueue\n      ✓ should return parsed queue from storage\n      ✓ should return empty array if no queue exists\n      ✓ should return empty array on storage error\n    clearOfflineQueue\n      ✓ should remove queue from storage\n      ✓ should handle removal errors gracefully\n    processOfflineQueue\n      ✓ should process all items in queue and clear it (1 ms)\n      ✓ should return early if queue is empty\n      ✓ should handle processing errors for individual items\n      ✕ should handle queue processing errors gracefully (4 ms)\n    Integration Tests\n      ✓ should handle complete offline workflow\n      ✕ should handle network state changes correctly\n\n  ● Offline Service › initializeOfflineService › should process offline queue when connection is restored\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n      43 |       initializeOfflineService();\n      44 |\n    > 45 |       expect(processSpy).toHaveBeenCalled();\n         |                          ^\n      46 |     });\n      47 |\n      48 |     it('should not process queue when offline', () => {\n\n      at Object.toHaveBeenCalled (src/services/__tests__/offline.test.ts:45:26)\n\n  ● Offline Service › addToOfflineQueue › should handle storage errors gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Error adding to offline queue:\", Any<Error>\n    Received: \"Error getting offline queue:\", [Error: Storage error]\n\n    Number of calls: 1\n\n      159 |       await expect(addToOfflineQueue(newData)).resolves.not.toThrow();\n      160 |\n    > 161 |       expect(consoleSpy).toHaveBeenCalledWith('Error adding to offline queue:', expect.any(Error));\n          |                          ^\n      162 |       consoleSpy.mockRestore();\n      163 |     });\n      164 |   });\n\n      at Object.toHaveBeenCalledWith (src/services/__tests__/offline.test.ts:161:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Offline Service › processOfflineQueue › should handle queue processing errors gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Error processing offline queue:\", Any<Error>\n    Received: \"Error getting offline queue:\", [Error: Queue error]\n\n    Number of calls: 1\n\n      283 |       await expect(processOfflineQueue()).resolves.not.toThrow();\n      284 |\n    > 285 |       expect(consoleSpy).toHaveBeenCalledWith('Error processing offline queue:', expect.any(Error));\n          |                          ^\n      286 |       consoleSpy.mockRestore();\n      287 |     });\n      288 |   });\n\n      at Object.toHaveBeenCalledWith (src/services/__tests__/offline.test.ts:285:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Offline Service › Integration Tests › should handle network state changes correctly\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n      336 |       // Simulate coming online - should process queue\n      337 |       networkCallback({ isConnected: true, type: 'wifi' } as any);\n    > 338 |       expect(processSpy).toHaveBeenCalledTimes(1);\n          |                          ^\n      339 |\n      340 |       processSpy.mockRestore();\n      341 |     });\n\n      at Object.toHaveBeenCalledTimes (src/services/__tests__/offline.test.ts:338:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/components/__tests__/ErrorBoundary.test.tsx\n  ErrorBoundary\n    Component Rendering\n      ✕ should render children when no error occurs (3 ms)\n      ✕ should have proper initial state (2 ms)\n      ✕ should update state when error occurs (1 ms)\n    Error Handling\n      ✕ should call centralized error handler when error occurs\n      ✕ should set different severity for app-level errors (1 ms)\n      ✕ should call custom error handler if provided\n    Recovery Mechanism\n      ✕ should handle successful recovery\n      ✕ should limit recovery attempts\n      ✕ should handle recovery errors (1 ms)\n    Error Reporting\n      ✕ should generate error report\n      ✕ should handle error report failures (1 ms)\n  withErrorBoundary HOC\n    ✕ should wrap component with error boundary (2 ms)\n    ✓ should pass props through to wrapped component (1 ms)\n    ✓ should accept error boundary props\n  useErrorHandler Hook\n    ✓ should provide error handling functions\n    ✕ should bind error handler methods correctly\n  Error Boundary Integration\n    ✕ should work with different error levels\n    ✕ should provide context information\n  Error Boundary Performance\n    ✕ should handle multiple errors efficiently\n    ✕ should not cause memory leaks during recovery\n\n  ● ErrorBoundary › Component Rendering › should render children when no error occurs\n\n    TypeError: Cannot read properties of undefined (reading 'hasError')\n\n      40 |       \n      41 |       const errorBoundary = new (ErrorBoundary as any)({});\n    > 42 |       expect(errorBoundary.state.hasError).toBe(false);\n         |                                  ^\n      43 |     });\n      44 |\n      45 |     test('should have proper initial state', () => {\n\n      at Object.hasError (src/components/__tests__/ErrorBoundary.test.tsx:42:34)\n\n  ● ErrorBoundary › Component Rendering › should have proper initial state\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: {\"error\": null, \"errorId\": null, \"errorInfo\": null, \"hasError\": false, \"isRecovering\": false, \"recoveryAttempts\": 0}\n    Received: undefined\n\n      46 |       const errorBoundary = new (ErrorBoundary as any)({});\n      47 |       \n    > 48 |       expect(errorBoundary.state).toEqual({\n         |                                   ^\n      49 |         hasError: false,\n      50 |         error: null,\n      51 |         errorInfo: null,\n\n      at Object.toEqual (src/components/__tests__/ErrorBoundary.test.tsx:48:35)\n\n  ● ErrorBoundary › Component Rendering › should update state when error occurs\n\n    TypeError: _ErrorBoundary.ErrorBoundary.getDerivedStateFromError is not a function\n\n      58 |     test('should update state when error occurs', () => {\n      59 |       const testError = new Error('Test error');\n    > 60 |       const derivedState = (ErrorBoundary as any).getDerivedStateFromError(testError);\n         |                                                   ^\n      61 |       \n      62 |       expect(derivedState).toEqual({\n      63 |         hasError: true,\n\n      at Object.getDerivedStateFromError (src/components/__tests__/ErrorBoundary.test.tsx:60:51)\n\n  ● ErrorBoundary › Error Handling › should call centralized error handler when error occurs\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      85 |       const errorInfo = { componentStack: 'Test stack' };\n      86 |\n    > 87 |       await errorBoundary.componentDidCatch(testError, errorInfo);\n         |                           ^\n      88 |\n      89 |       expect(errorHandlerSpy).toHaveBeenCalledWith(\n      90 |         testError,\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:87:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Error Handling › should set different severity for app-level errors\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      112 |       const errorInfo = { componentStack: 'App stack' };\n      113 |\n    > 114 |       await errorBoundary.componentDidCatch(testError, errorInfo);\n          |                           ^\n      115 |\n      116 |       expect(errorHandlerSpy).toHaveBeenCalledWith(\n      117 |         testError,\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:114:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Error Handling › should call custom error handler if provided\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      128 |       const errorInfo = { componentStack: 'Custom stack' };\n      129 |\n    > 130 |       await errorBoundary.componentDidCatch(testError, errorInfo);\n          |                           ^\n      131 |\n      132 |       expect(customErrorHandler).toHaveBeenCalledWith(testError, errorInfo);\n      133 |     });\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:130:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Recovery Mechanism › should handle successful recovery\n\n    Property `setState` does not exist in the provided object\n\n      146 |       };\n      147 |\n    > 148 |       const setStateSpy = jest.spyOn(errorBoundary, 'setState');\n          |                                ^\n      149 |\n      150 |       await errorBoundary.handleRecovery();\n      151 |\n\n      at ModuleMocker.spyOn (node_modules/jest-mock/build/index.js:731:13)\n      at Object.spyOn (src/components/__tests__/ErrorBoundary.test.tsx:148:32)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Recovery Mechanism › should limit recovery attempts\n\n    TypeError: errorBoundary.handleRecovery is not a function\n\n      166 |       global.Alert = { alert: alertSpy } as any;\n      167 |\n    > 168 |       await errorBoundary.handleRecovery();\n          |                           ^\n      169 |\n      170 |       expect(alertSpy).toHaveBeenCalledWith(\n      171 |         'Recovery Failed',\n\n      at Object.handleRecovery (src/components/__tests__/ErrorBoundary.test.tsx:168:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Recovery Mechanism › should handle recovery errors\n\n    Property `setState` does not exist in the provided object\n\n      183 |\n      184 |       // Mock setState to throw error\n    > 185 |       jest.spyOn(errorBoundary, 'setState').mockImplementation(() => {\n          |            ^\n      186 |         throw new Error('Recovery failed');\n      187 |       });\n      188 |\n\n      at ModuleMocker.spyOn (node_modules/jest-mock/build/index.js:731:13)\n      at Object.spyOn (src/components/__tests__/ErrorBoundary.test.tsx:185:12)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Error Reporting › should generate error report\n\n    TypeError: errorBoundary.handleReportError is not a function\n\n      208 |       global.Alert = { alert: alertSpy } as any;\n      209 |\n    > 210 |       await errorBoundary.handleReportError();\n          |                           ^\n      211 |\n      212 |       expect(exportSpy).toHaveBeenCalled();\n      213 |       expect(alertSpy).toHaveBeenCalledWith(\n\n      at Object.handleReportError (src/components/__tests__/ErrorBoundary.test.tsx:210:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Error Reporting › should handle error report failures\n\n    TypeError: errorBoundary.handleReportError is not a function\n\n      226 |       global.Alert = { alert: alertSpy } as any;\n      227 |\n    > 228 |       await errorBoundary.handleReportError();\n          |                           ^\n      229 |\n      230 |       expect(alertSpy).toHaveBeenCalledWith(\n      231 |         'Error',\n\n      at Object.handleReportError (src/components/__tests__/ErrorBoundary.test.tsx:228:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● withErrorBoundary HOC › should wrap component with error boundary\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"withErrorBoundary(TestComponent)\"\n    Received: undefined\n\n      240 |     const WrappedComponent = withErrorBoundary(TestComponent);\n      241 |     \n    > 242 |     expect(WrappedComponent.displayName).toBe('withErrorBoundary(TestComponent)');\n          |                                          ^\n      243 |   });\n      244 |\n      245 |   test('should pass props through to wrapped component', () => {\n\n      at Object.toBe (src/components/__tests__/ErrorBoundary.test.tsx:242:42)\n\n  ● useErrorHandler Hook › should bind error handler methods correctly\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: [Function bound handleError]\n    Received: [Function mockConstructor]\n\n      279 |     \n      280 |     // Verify functions are bound to the singleton instance\n    > 281 |     expect(errorHandlerHook.handleError).toBe(errorHandler.handleError.bind(errorHandler));\n          |                                          ^\n      282 |     expect(errorHandlerHook.handleNetworkError).toBe(errorHandler.handleNetworkError.bind(errorHandler));\n      283 |   });\n      284 | });\n\n      at Object.toBe (src/components/__tests__/ErrorBoundary.test.tsx:281:42)\n\n  ● Error Boundary Integration › should work with different error levels\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      294 |       const errorHandlerSpy = jest.spyOn(errorHandler, 'handleError').mockResolvedValue({} as any);\n      295 |       \n    > 296 |       await errorBoundary.componentDidCatch(testError, { componentStack: '' });\n          |                           ^\n      297 |       \n      298 |       const expectedSeverity = level === 'app' ? ErrorSeverity.CRITICAL : ErrorSeverity.HIGH;\n      299 |       expect(errorHandlerSpy).toHaveBeenCalledWith(\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:296:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Error Boundary Integration › should provide context information\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      321 |     const errorHandlerSpy = jest.spyOn(errorHandler, 'handleError').mockResolvedValue({} as any);\n      322 |     \n    > 323 |     await errorBoundary.componentDidCatch(testError, errorInfo);\n          |                         ^\n      324 |     \n      325 |     expect(errorHandlerSpy).toHaveBeenCalledWith(\n      326 |       testError,\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:323:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Error Boundary Performance › should handle multiple errors efficiently\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      348 |     for (let i = 0; i < 10; i++) {\n      349 |       const testError = new Error(`Error ${i}`);\n    > 350 |       await errorBoundary.componentDidCatch(testError, { componentStack: `Stack ${i}` });\n          |                           ^\n      351 |     }\n      352 |     \n      353 |     const end = performance.now();\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:350:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Error Boundary Performance › should not cause memory leaks during recovery\n\n    TypeError: errorBoundary.handleRecovery is not a function\n\n      363 |     for (let i = 0; i < 5; i++) {\n      364 |       errorBoundary.state = { recoveryAttempts: i };\n    > 365 |       await errorBoundary.handleRecovery();\n          |                           ^\n      366 |     }\n      367 |     \n      368 |     // In a real environment, we'd check for memory leaks\n\n      at Object.handleRecovery (src/components/__tests__/ErrorBoundary.test.tsx:365:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/test/gps.test.ts\n  Military-Grade GPS Service\n    Multi-GNSS Support\n      ✕ should support multiple GNSS systems (3 ms)\n      ✕ should provide satellite count for each system\n      ✕ should calculate signal strength for each system (1 ms)\n    Advanced Filtering\n      ✕ should apply Kalman filter to location data\n      ✕ should improve location accuracy through filtering (1 ms)\n      ✕ should maintain location history for analysis\n    Threat Detection\n      ✕ should detect GPS jamming attempts\n      ✕ should detect GPS spoofing attempts\n      ✕ should provide threat mitigation recommendations\n    Nanosecond Precision\n      ✕ should provide nanosecond precision timestamps\n      ✕ should maintain timestamp consistency across operations\n    Environmental Monitoring\n      ✕ should assess atmospheric conditions\n      ✕ should detect multipath interference\n      ✕ should provide environmental impact assessment (1 ms)\n    Confidence Scoring\n      ✕ should calculate location confidence level\n      ✕ should provide confidence breakdown\n    Integrity Checks\n      ✕ should perform data integrity validation\n      ✕ should detect data corruption (1 ms)\n    Historical Analysis\n      ✕ should analyze location patterns\n      ✕ should detect anomalous location patterns\n    Real-time Monitoring\n      ✕ should provide real-time location tracking (1 ms)\n      ✕ should provide location update frequency control (1 ms)\n    Offline Capability\n      ✕ should store location data locally\n      ✕ should sync location data when online\n    Performance Testing\n      ✕ should complete location acquisition within reasonable time\n      ✕ should handle multiple concurrent location requests\n    Error Handling\n      ✕ should handle location permission denial gracefully\n      ✕ should handle GPS signal loss gracefully\n      ✕ should provide fallback location when GPS unavailable\n    Accuracy Validation\n      ✕ should validate location accuracy requirements\n      ✕ should provide accuracy improvement recommendations (1 ms)\n\n  ● Military-Grade GPS Service › Multi-GNSS Support › should support multiple GNSS systems\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      19 |   describe('Multi-GNSS Support', () => {\n      20 |     it('should support multiple GNSS systems', async () => {\n    > 21 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n         |                                                  ^\n      22 |\n      23 |       expect(locationData).toBeDefined();\n      24 |       expect(locationData.gnssSystems).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:21:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Multi-GNSS Support › should provide satellite count for each system\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      31 |\n      32 |     it('should provide satellite count for each system', async () => {\n    > 33 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n         |                                                  ^\n      34 |\n      35 |       expect(locationData.satelliteCount).toBeDefined();\n      36 |       expect(locationData.satelliteCount.total).toBeGreaterThan(0);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:33:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Multi-GNSS Support › should calculate signal strength for each system\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      42 |\n      43 |     it('should calculate signal strength for each system', async () => {\n    > 44 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n         |                                                  ^\n      45 |\n      46 |       expect(locationData.signalStrength).toBeDefined();\n      47 |       expect(locationData.signalStrength.average).toBeGreaterThan(0);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:44:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Advanced Filtering › should apply Kalman filter to location data\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      62 |       };\n      63 |\n    > 64 |       const filteredLocation = gpsFilter.filterLocation(rawLocation);\n         |                                          ^\n      65 |\n      66 |       expect(filteredLocation).toBeDefined();\n      67 |       expect(filteredLocation.latitude).toBeDefined();\n\n      at Object.filterLocation (src/test/gps.test.ts:64:42)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Advanced Filtering › should improve location accuracy through filtering\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      80 |       };\n      81 |\n    > 82 |       const filteredLocation = gpsFilter.filterLocation(rawLocation);\n         |                                          ^\n      83 |\n      84 |       expect(filteredLocation.accuracy).toBeLessThanOrEqual(rawLocation.accuracy);\n      85 |       expect(filteredLocation.confidence).toBeGreaterThan(0.7);\n\n      at Object.filterLocation (src/test/gps.test.ts:82:42)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Advanced Filtering › should maintain location history for analysis\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      94 |\n      95 |       locations.forEach(location => {\n    > 96 |         gpsFilter.filterLocation(location);\n         |                   ^\n      97 |       });\n      98 |\n      99 |       const history = gpsFilter.getLocationHistory();\n\n      at filterLocation (src/test/gps.test.ts:96:19)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (src/test/gps.test.ts:95:17)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Threat Detection › should detect GPS jamming attempts\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      104 |   describe('Threat Detection', () => {\n      105 |     it('should detect GPS jamming attempts', async () => {\n    > 106 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      107 |\n      108 |       expect(locationData.threatDetection).toBeDefined();\n      109 |       expect(locationData.threatDetection.jamming).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:106:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Threat Detection › should detect GPS spoofing attempts\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      114 |\n      115 |     it('should detect GPS spoofing attempts', async () => {\n    > 116 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      117 |\n      118 |       expect(locationData.threatDetection.spoofing).toBeDefined();\n      119 |       expect(locationData.threatDetection.spoofing.detected).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:116:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Threat Detection › should provide threat mitigation recommendations\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      123 |\n      124 |     it('should provide threat mitigation recommendations', async () => {\n    > 125 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      126 |\n      127 |       expect(locationData.threatDetection.recommendations).toBeDefined();\n      128 |       expect(locationData.threatDetection.recommendations).toBeInstanceOf(Array);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:125:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Nanosecond Precision › should provide nanosecond precision timestamps\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      140 |   describe('Nanosecond Precision', () => {\n      141 |     it('should provide nanosecond precision timestamps', async () => {\n    > 142 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      143 |\n      144 |       expect(locationData.timestamp).toBeDefined();\n      145 |       expect(locationData.timestampPrecision).toBe('nanosecond');\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:142:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Nanosecond Precision › should maintain timestamp consistency across operations\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      148 |\n      149 |     it('should maintain timestamp consistency across operations', async () => {\n    > 150 |       const location1 = await locationService.getMilitaryGradeCurrentLocation();\n          |                                               ^\n      151 |       const location2 = await locationService.getMilitaryGradeCurrentLocation();\n      152 |\n      153 |       expect(location1.timestampValue).toBeLessThan(location2.timestampValue);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:150:47)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Environmental Monitoring › should assess atmospheric conditions\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      158 |   describe('Environmental Monitoring', () => {\n      159 |     it('should assess atmospheric conditions', async () => {\n    > 160 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      161 |\n      162 |       expect(locationData.environmentalConditions).toBeDefined();\n      163 |       expect(locationData.environmentalConditions.atmospheric).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:160:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Environmental Monitoring › should detect multipath interference\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      168 |\n      169 |     it('should detect multipath interference', async () => {\n    > 170 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      171 |\n      172 |       expect(locationData.environmentalConditions.multipath).toBeDefined();\n      173 |       expect(locationData.environmentalConditions.multipath.detected).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:170:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Environmental Monitoring › should provide environmental impact assessment\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      177 |\n      178 |     it('should provide environmental impact assessment', async () => {\n    > 179 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      180 |\n      181 |       expect(locationData.environmentalConditions.impact).toBeDefined();\n      182 |       expect(locationData.environmentalConditions.impact.accuracy).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:179:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Confidence Scoring › should calculate location confidence level\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      188 |   describe('Confidence Scoring', () => {\n      189 |     it('should calculate location confidence level', async () => {\n    > 190 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      191 |\n      192 |       expect(locationData.confidence).toBeDefined();\n      193 |       expect(locationData.confidence.level).toBeGreaterThan(0);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:190:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Confidence Scoring › should provide confidence breakdown\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      200 |\n      201 |     it('should provide confidence breakdown', async () => {\n    > 202 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      203 |\n      204 |       expect(locationData.confidence.breakdown).toBeDefined();\n      205 |       expect(locationData.confidence.breakdown.gnssQuality).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:202:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Integrity Checks › should perform data integrity validation\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      212 |   describe('Integrity Checks', () => {\n      213 |     it('should perform data integrity validation', async () => {\n    > 214 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      215 |\n      216 |       expect(locationData.integrity).toBeDefined();\n      217 |       expect(locationData.integrity.checksum).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:214:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Integrity Checks › should detect data corruption\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      222 |\n      223 |     it('should detect data corruption', async () => {\n    > 224 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      225 |\n      226 |       // Simulate data corruption\n      227 |       const corruptedData = { ...locationData };\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:224:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Historical Analysis › should analyze location patterns\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      244 |\n      245 |       locations.forEach(location => {\n    > 246 |         gpsFilter.filterLocation(location);\n          |                   ^\n      247 |       });\n      248 |\n      249 |       const statistics = gpsFilter.getLocationStatistics();\n\n      at filterLocation (src/test/gps.test.ts:246:19)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (src/test/gps.test.ts:245:17)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Historical Analysis › should detect anomalous location patterns\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      270 |\n      271 |       normalLocations.forEach(location => {\n    > 272 |         gpsFilter.filterLocation(location);\n          |                   ^\n      273 |       });\n      274 |\n      275 |       const anomalyCheck = gpsFilter.detectAnomalies(anomalousLocation);\n\n      at filterLocation (src/test/gps.test.ts:272:19)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (src/test/gps.test.ts:271:23)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Real-time Monitoring › should provide real-time location tracking\n\n    TypeError: Cannot read properties of undefined (reading 'watchMilitaryGradeLocation')\n\n      284 |       const trackingCallback = jest.fn();\n      285 |       \n    > 286 |       await locationService.watchMilitaryGradeLocation(trackingCallback);\n          |                             ^\n      287 |\n      288 |       // Wait for location updates\n      289 |       await new Promise(resolve => setTimeout(resolve, 2000));\n\n      at Object.watchMilitaryGradeLocation (src/test/gps.test.ts:286:29)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Real-time Monitoring › should provide location update frequency control\n\n    TypeError: Cannot read properties of undefined (reading 'watchMilitaryGradeLocation')\n\n      302 |       const trackingCallback = jest.fn();\n      303 |       \n    > 304 |       await locationService.watchMilitaryGradeLocation(trackingCallback, {\n          |                             ^\n      305 |         interval: 500, // 500ms interval\n      306 |         distanceFilter: 0.1 // 0.1m distance filter\n      307 |       });\n\n      at Object.watchMilitaryGradeLocation (src/test/gps.test.ts:304:29)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Offline Capability › should store location data locally\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      316 |   describe('Offline Capability', () => {\n      317 |     it('should store location data locally', async () => {\n    > 318 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      319 |\n      320 |       // Store location locally\n      321 |       await locationService.storeLocationLocally(locationData);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:318:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Offline Capability › should sync location data when online\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      329 |\n      330 |     it('should sync location data when online', async () => {\n    > 331 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      332 |\n      333 |       // Store location locally\n      334 |       await locationService.storeLocationLocally(locationData);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:331:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Performance Testing › should complete location acquisition within reasonable time\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      345 |       const startTime = Date.now();\n      346 |       \n    > 347 |       await locationService.getMilitaryGradeCurrentLocation();\n          |                             ^\n      348 |       \n      349 |       const endTime = Date.now();\n      350 |       const duration = endTime - startTime;\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:347:29)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Performance Testing › should handle multiple concurrent location requests\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      355 |     it('should handle multiple concurrent location requests', async () => {\n      356 |       const promises = Array.from({ length: 5 }, () =>\n    > 357 |         locationService.getMilitaryGradeCurrentLocation()\n          |                         ^\n      358 |       );\n      359 |\n      360 |       const results = await Promise.all(promises);\n\n      at getMilitaryGradeCurrentLocation (src/test/gps.test.ts:357:25)\n          at Function.from (<anonymous>)\n      at Object.from (src/test/gps.test.ts:356:30)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Error Handling › should handle location permission denial gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'requestMilitaryGradeLocationPermissions')\n\n      378 |\n      379 |       await expect(\n    > 380 |         locationService.requestMilitaryGradeLocationPermissions()\n          |                         ^\n      381 |       ).rejects.toThrow('Location permission denied');\n      382 |     });\n      383 |\n\n      at Object.requestMilitaryGradeLocationPermissions (src/test/gps.test.ts:380:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Error Handling › should handle GPS signal loss gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      389 |\n      390 |       await expect(\n    > 391 |         locationService.getMilitaryGradeCurrentLocation()\n          |                         ^\n      392 |       ).rejects.toThrow('GPS signal lost');\n      393 |     });\n      394 |\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:391:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Error Handling › should provide fallback location when GPS unavailable\n\n    TypeError: Cannot read properties of undefined (reading 'getFallbackLocation')\n\n      399 |       );\n      400 |\n    > 401 |       const fallbackLocation = await locationService.getFallbackLocation();\n          |                                                      ^\n      402 |       expect(fallbackLocation).toBeDefined();\n      403 |       expect(fallbackLocation.latitude).toBeDefined();\n      404 |       expect(fallbackLocation.longitude).toBeDefined();\n\n      at Object.getFallbackLocation (src/test/gps.test.ts:401:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Accuracy Validation › should validate location accuracy requirements\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      409 |   describe('Accuracy Validation', () => {\n      410 |     it('should validate location accuracy requirements', async () => {\n    > 411 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      412 |\n      413 |       expect(locationData.accuracy).toBeLessThanOrEqual(10); // Should be accurate within 10m\n      414 |       expect(locationData.confidence.level).toBeGreaterThan(0.8); // Should have high confidence\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:411:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Accuracy Validation › should provide accuracy improvement recommendations\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      416 |\n      417 |     it('should provide accuracy improvement recommendations', async () => {\n    > 418 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      419 |\n      420 |       if (locationData.accuracy > 5) {\n      421 |         expect(locationData.recommendations).toContain('Move to open area');\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:418:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/test/cryptography.test.ts\n  Military-Grade Cryptography Service\n    Quantum-Resistant Hashing\n      ✕ should generate quantum-resistant hash with entropy (6 ms)\n      ✕ should generate unique hashes for different data (2 ms)\n      ✓ should maintain consistency for same data (2 ms)\n    Multi-Signature Support\n      ✕ should generate dual signatures (Ed25519 + Secp256k1) (77 ms)\n      ✕ should verify both signatures correctly (2 ms)\n      ✕ should detect tampered signatures (1 ms)\n    Military-Grade Identity\n      ✕ should generate military-grade identity with multiple key pairs (2 ms)\n      ✕ should store identity securely (1 ms)\n      ✕ should generate unique identities for different users (6 ms)\n    Military-Grade Proof Generation\n      ✕ should generate comprehensive military-grade proof (2 ms)\n      ✕ should include nanosecond precision timestamps (4 ms)\n      ✕ should calculate entropy quality correctly (1 ms)\n    Certificate Generation\n      ✕ should generate military-grade certificates\n      ✕ should validate certificate fields correctly\n      ✕ should verify certificate integrity\n    Entropy Quality Assessment\n      ✕ should assess entropy quality accurately (1 ms)\n      ✕ should provide entropy recommendations (1 ms)\n    Performance Testing\n      ✓ should complete hash generation within reasonable time (1 ms)\n      ✕ should handle multiple concurrent operations (3 ms)\n    Error Handling\n      ✕ should handle invalid input data gracefully (2 ms)\n      ✓ should handle missing required fields (1 ms)\n      ✓ should handle certificate generation errors (1 ms)\n    Security Validation\n      ✕ should prevent signature forgery (1 ms)\n      ✕ should detect tampered data (1 ms)\n    Government Compliance\n      ✕ should meet government security standards\n      ✕ should generate audit trails\n\n  ● Military-Grade Cryptography Service › Quantum-Resistant Hashing › should generate quantum-resistant hash with entropy\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      34 |\n      35 |       expect(hash).toBeDefined();\n    > 36 |       expect(hash.hash).toBeDefined();\n         |                         ^\n      37 |       expect(hash.entropyQuality).toBeGreaterThan(0.8);\n      38 |       expect(hash.rounds).toBeGreaterThan(3);\n      39 |       expect(hash.timestamp).toBeDefined();\n\n      at Object.toBeDefined (src/test/cryptography.test.ts:36:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Quantum-Resistant Hashing › should generate unique hashes for different data\n\n    expect(received).not.toBe(expected) // Object.is equality\n\n    Expected: not undefined\n\n      47 |       const hash2 = await cryptoService.generateQuantumResistantHash(data2);\n      48 |\n    > 49 |       expect(hash1.hash).not.toBe(hash2.hash);\n         |                              ^\n      50 |       expect(hash1.hash.length).toBeGreaterThan(128);\n      51 |     });\n      52 |\n\n      at Object.toBe (src/test/cryptography.test.ts:49:30)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Multi-Signature Support › should generate dual signatures (Ed25519 + Secp256k1)\n\n    Military-grade identity required\n\n      122 |     try {\n      123 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 124 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      125 |\n      126 |       const dataHash = sha256(data);\n      127 |       \n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:124:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Multi-Signature Support › should verify both signatures correctly\n\n    Military-grade identity required\n\n      122 |     try {\n      123 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 124 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      125 |\n      126 |       const dataHash = sha256(data);\n      127 |       \n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:124:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Multi-Signature Support › should detect tampered signatures\n\n    Military-grade identity required\n\n      122 |     try {\n      123 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 124 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      125 |\n      126 |       const dataHash = sha256(data);\n      127 |       \n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:124:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Identity › should generate military-grade identity with multiple key pairs\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      138 |\n      139 |       expect(identity).toBeDefined();\n    > 140 |       expect(identity.identityId).toBeDefined();\n          |                                   ^\n      141 |       expect(identity.keyPairs.ed25519).toBeDefined();\n      142 |       expect(identity.keyPairs.secp256k1).toBeDefined();\n      143 |       expect(identity.quantumResistantHash).toBeDefined();\n\n      at Object.toBeDefined (src/test/cryptography.test.ts:140:35)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Identity › should store identity securely\n\n    TypeError: cryptoService.getStoredIdentity is not a function\n\n      150 |\n      151 |       // Verify identity is stored securely\n    > 152 |       const storedIdentity = await cryptoService.getStoredIdentity('MINER_002');\n          |                                                  ^\n      153 |\n      154 |       expect(storedIdentity).toBeDefined();\n      155 |       expect(storedIdentity.identityId).toBe(identity.identityId);\n\n      at Object.getStoredIdentity (src/test/cryptography.test.ts:152:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Identity › should generate unique identities for different users\n\n    expect(received).not.toBe(expected) // Object.is equality\n\n    Expected: not undefined\n\n      162 |       const identity2 = await cryptoService.initializeMilitaryGradeIdentity('MINER_002');\n      163 |\n    > 164 |       expect(identity1.identityId).not.toBe(identity2.identityId);\n          |                                        ^\n      165 |       expect(identity1.keyPairs.ed25519.publicKey).not.toBe(identity2.keyPairs.ed25519.publicKey);\n      166 |       expect(identity1.keyPairs.secp256k1.publicKey).not.toBe(identity2.keyPairs.secp256k1.publicKey);\n      167 |     });\n\n      at Object.toBe (src/test/cryptography.test.ts:164:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Proof Generation › should generate comprehensive military-grade proof\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Proof Generation › should include nanosecond precision timestamps\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Proof Generation › should calculate entropy quality correctly\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Certificate Generation › should generate military-grade certificates\n\n    Required field 'goldLotData' is missing for template 'gold-origin'\n\n      349 |     for (const field of template.requiredFields) {\n      350 |       if (!this.getNestedValue(data, field)) {\n    > 351 |         throw new Error(`Required field '${field}' is missing for template '${template.id}'`);\n          |               ^\n      352 |       }\n      353 |     }\n      354 |\n\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:351:15)\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:256:12)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at Object.generateMilitaryGradeCertificate (src/test/cryptography.test.ts:242:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Certificate Generation › should validate certificate fields correctly\n\n    Required field 'userRole' is missing for template 'work-site-verification'\n\n      349 |     for (const field of template.requiredFields) {\n      350 |       if (!this.getNestedValue(data, field)) {\n    > 351 |         throw new Error(`Required field '${field}' is missing for template '${template.id}'`);\n          |               ^\n      352 |       }\n      353 |     }\n      354 |\n\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:351:15)\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:256:12)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at Object.generateMilitaryGradeCertificate (src/test/cryptography.test.ts:263:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Certificate Generation › should verify certificate integrity\n\n    Required field 'userRole' is missing for template 'government-inspector'\n\n      349 |     for (const field of template.requiredFields) {\n      350 |       if (!this.getNestedValue(data, field)) {\n    > 351 |         throw new Error(`Required field '${field}' is missing for template '${template.id}'`);\n          |               ^\n      352 |       }\n      353 |     }\n      354 |\n\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:351:15)\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:256:12)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at Object.generateMilitaryGradeCertificate (src/test/cryptography.test.ts:282:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Entropy Quality Assessment › should assess entropy quality accurately\n\n    expect(received).toBeGreaterThan(expected)\n\n    Matcher error: received value must be a number or bigint\n\n    Received has value: undefined\n\n      299 |       const entropyData = cryptoService.calculateEntropyQuality();\n      300 |\n    > 301 |       expect(entropyData.quality).toBeGreaterThan(0.7);\n          |                                   ^\n      302 |       expect(entropyData.quality).toBeLessThanOrEqual(1.0);\n      303 |       expect(entropyData.source).toBeDefined();\n      304 |       expect(entropyData.assessment).toBeDefined();\n\n      at Object.toBeGreaterThan (src/test/cryptography.test.ts:301:35)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Entropy Quality Assessment › should provide entropy recommendations\n\n    expect(received).toBeInstanceOf(expected)\n\n    Expected constructor: Array\n\n    Received value has no prototype\n    Received value: undefined\n\n      309 |       const entropyData = cryptoService.calculateEntropyQuality();\n      310 |\n    > 311 |       expect(entropyData.recommendations).toBeInstanceOf(Array);\n          |                                           ^\n      312 |       expect(entropyData.recommendations.length).toBeGreaterThan(0);\n      313 |       \n      314 |       if (entropyData.quality < 0.8) {\n\n      at Object.toBeInstanceOf (src/test/cryptography.test.ts:311:43)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Performance Testing › should handle multiple concurrent operations\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      352 |       expect(results).toHaveLength(10);\n      353 |       results.forEach(result => {\n    > 354 |         expect(result.hash).toBeDefined();\n          |                             ^\n      355 |         expect(result.entropyQuality).toBeGreaterThan(0.7);\n      356 |       });\n      357 |     });\n\n      at toBeDefined (src/test/cryptography.test.ts:354:29)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (src/test/cryptography.test.ts:353:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Error Handling › should handle invalid input data gracefully\n\n    expect(received).rejects.toThrow()\n\n    Received promise resolved instead of rejected\n    Resolved to value: \"a345b405eda39d71e8b79e12f6dd28c1550af8a7674b18bf10ec164df65a2aa639c7b757d8b62ff5997b1db45c0892f9cb50efc6cb263b3347be84a70c80d659\"\n\n      360 |   describe('Error Handling', () => {\n      361 |     it('should handle invalid input data gracefully', async () => {\n    > 362 |       await expect(\n          |             ^\n      363 |         cryptoService.generateQuantumResistantHash(null as any)\n      364 |       ).rejects.toThrow();\n      365 |     });\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.expect (src/test/cryptography.test.ts:362:13)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Security Validation › should prevent signature forgery\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Security Validation › should detect tampered data\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Government Compliance › should meet government security standards\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Government Compliance › should generate audit trails\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\nPASS src/test/integration/EcosystemIntegration.test.ts\n  Ecosystem Integration Tests\n    Complete Gold Discovery to Trading Flow\n      ✓ should handle complete end-to-end gold lot lifecycle (5 ms)\n      ✓ should handle cross-app user session management (1 ms)\n      ✓ should maintain data consistency across app switches (1 ms)\n    Performance and Reliability Tests\n      ✓ should handle concurrent cross-app operations (1 ms)\n      ✓ should handle integration service failures gracefully\n      ✓ should validate data integrity across apps\n    Security and Compliance Tests\n      ✓ should enforce proper authentication across apps (1 ms)\n      ✓ should validate compliance violations\n      ✓ should generate comprehensive compliance reports\n    Analytics and Reporting Tests\n      ✓ should provide comprehensive cross-app analytics (1 ms)\n      ✓ should track trading analytics across time periods\n\nPASS app/__tests__/integration.test.tsx\n  Complete App Integration\n    ✓ should have all nine real screens integrated (1 ms)\n    ✓ should validate navigation button text updates\n    ✓ should confirm complete integration status (1 ms)\n    ✓ should validate all app features are ready (2 ms)\n    ✓ should demonstrate comprehensive analytics functionality\n    ✓ should demonstrate comprehensive enhanced location functionality (1 ms)\n    ✓ should demonstrate comprehensive forms functionality\n    ✓ should demonstrate comprehensive settings functionality (1 ms)\n    ✓ should demonstrate comprehensive camera functionality\n    ✓ should demonstrate comprehensive GPS functionality\n    ✓ should validate complete enterprise analytics solution readiness\n    ✓ should validate complete field worker workflow integration (1 ms)\n    ✓ should validate enterprise-grade analytics features\n    ✓ should validate cross-platform compatibility\n\nPASS src/test/performance/PerformanceTest.test.ts\n  Performance Optimization Tests\n    Performance Optimizer\n      ✓ should start and stop monitoring correctly (1 ms)\n      ✓ should collect performance metrics (1 ms)\n      ✓ should generate optimization recommendations (1 ms)\n      ✓ should generate comprehensive performance report\n      ✓ should apply optimizations without errors\n    Network Optimizer\n      ✓ should cache GET requests effectively (1 ms)\n      ✓ should handle network failures gracefully (8 ms)\n      ✓ should return cached data on network failure if available\n      ✓ should provide accurate cache statistics\n      ✓ should preload critical data (1 ms)\n      ✓ should clear cache successfully\n    Memory Manager\n      ✓ should provide memory statistics (3 ms)\n      ✓ should register and unregister cleanup callbacks\n      ✓ should add and remove memory pressure listeners\n      ✓ should force cleanup successfully (1 ms)\n      ✓ should create optimized data store with size limits\n      ✓ should generate memory report\n    Integration Performance Tests\n      ✓ should maintain performance under concurrent load (1 ms)\n      ✓ should optimize memory usage during heavy operations\n      ✓ should maintain performance standards across all components\n\nPASS src/test/deployment/DeploymentTest.test.ts\n  Deployment Readiness Tests\n    Configuration Validation\n      ✓ should have all required environment files (1 ms)\n      ✓ should have valid Docker configuration\n      ✓ should have Kubernetes manifests (1 ms)\n      ✓ should have deployment scripts\n      ✓ should have GitHub Actions workflow (1 ms)\n    Application Health Checks\n      ✓ should have health check endpoints\n      ✓ should validate database connectivity\n      ✓ should validate Redis connectivity (1 ms)\n      ✓ should validate external API connectivity\n    Security Deployment Checks\n      ✓ should not have hardcoded secrets\n      ✓ should have proper HTTPS configuration (1 ms)\n      ✓ should have security headers configured (3 ms)\n      ✓ should have proper container security configuration\n    Performance Deployment Checks\n      ✓ should have resource limits configured\n      ✓ should have horizontal pod autoscaler configured (1 ms)\n      ✓ should have caching configuration\n    Monitoring and Observability\n      ✓ should have monitoring services configured\n      ✓ should have logging configuration\n      ✓ should have health check configuration\n    Backup and Disaster Recovery\n      ✓ should have backup configuration\n      ✓ should have disaster recovery procedures documented (1 ms)\n    Ghana-specific Configuration\n      ✓ should have Ghana regulatory compliance configured\n      ✓ should have mobile money integration configured\n      ✓ should have proper localization settings (1 ms)\n    Rollback Capability\n      ✓ should have rollback procedures in CI/CD\n      ✓ should maintain multiple deployment versions\n    Load Testing Readiness\n      ✓ should have load testing configuration\n      ✓ should have performance benchmarks defined\n    Mobile App Store Readiness\n      ✓ should have app store configuration (1 ms)\n      ✓ should have update mechanism configured\n\nPASS src/store/__tests__/SimpleStore.test.ts\n  Simple Store Test\n    ✓ should demonstrate Jest is working\n    ✓ should test basic object operations (1 ms)\n    ✓ should test mock functions\n    ✓ should test async operations\n\nPASS src/components/__tests__/SimpleComponent.test.tsx\n  Simple Component Test\n    ✓ should demonstrate Jest is working\n    ✓ should test basic React functionality\n    ✓ should test string operations\n    ✓ should test array operations\n\nPASS src/test/__tests__/simple-infrastructure.test.ts\n  GeoTag™ Testing Infrastructure - Basic\n    Mocks Setup\n      ✓ should mock AsyncStorage (1 ms)\n      ✓ should mock expo-location\n      ✓ should mock expo-camera (1 ms)\n      ✓ should mock expo-haptics\n      ✓ should mock expo-router\n      ✓ should mock NetInfo\n    Global Utilities\n      ✓ should provide global mock creators (1 ms)\n      ✓ should provide console restoration (1 ms)\n    Component Mocks\n      ✓ should mock ThemeProvider\n      ✓ should mock EnterpriseComponents\n      ✓ should mock ErrorBoundary\n    Mock Functionality\n      ✓ should simulate location permissions (1 ms)\n      ✓ should simulate GPS location\n      ✓ should simulate network connectivity\n      ✓ should simulate haptic feedback\n    Error Handling\n      ✓ should handle mock errors gracefully (7 ms)\n      ✓ should handle async storage errors (1 ms)\n  Performance Tests\n    ✓ should have reasonable mock performance\n    ✓ should handle concurrent mock operations\n\nFAIL app/__tests__/video-capture.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n    > 1 | import { render } from '@testing-library/react-native';\n        | ^\n      2 |\n      3 | // Simple mocks that don't reference external variables\n      4 | jest.mock('expo-router', () => ({\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (app/__tests__/video-capture.test.tsx:1:1)\n\nFAIL src/test/integration/cross-app-integration.test.ts\n  ● Test suite failed to run\n\n    Cannot find module '../../services/shared-auth' from 'src/test/integration/cross-app-integration.test.ts'\n\n      484 |\n      485 | // Mock SharedAuthService\n    > 486 | jest.mock('../../services/shared-auth', () => ({\n          |                                         ^\n      487 |   SharedAuthService: jest.fn().mockImplementation(() => ({\n      488 |     login: jest.fn().mockResolvedValue(true),\n      489 |     logout: jest.fn().mockResolvedValue(true),\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)\n      at Object.<anonymous> (src/test/integration/cross-app-integration.test.ts:486:41)\n\nFAIL app/__tests__/index.test.tsx\n  ● Test suite failed to run\n\n    ReferenceError: /Users/amanianai/geotag-app/src/test/test-utils.tsx: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variables.\n    Invalid variable access: createMockThemeContext\n    Allowed objects: AbortController, AbortSignal, AggregateError, Array, ArrayBuffer, Atomics, BigInt, BigInt64Array, BigUint64Array, Blob, Boolean, BroadcastChannel, Buffer, ByteLengthQueuingStrategy, CompressionStream, CountQueuingStrategy, Crypto, CryptoKey, CustomEvent, DOMException, DataView, Date, DecompressionStream, Error, EvalError, Event, EventTarget, File, FinalizationRegistry, Float32Array, Float64Array, FormData, Function, Generator, GeneratorFunction, Headers, Infinity, Int16Array, Int32Array, Int8Array, InternalError, Intl, Iterator, JSON, Map, Math, MessageChannel, MessageEvent, MessagePort, NaN, Navigator, Number, Object, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserver, PerformanceObserverEntryList, PerformanceResourceTiming, Promise, Proxy, RangeError, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, ReferenceError, Reflect, RegExp, Request, Response, Set, SharedArrayBuffer, String, SubtleCrypto, Symbol, SyntaxError, TextDecoder, TextDecoderStream, TextEncoder, TextEncoderStream, TransformStream, TransformStreamDefaultController, TypeError, URIError, URL, URLSearchParams, Uint16Array, Uint32Array, Uint8Array, Uint8ClampedArray, WeakMap, WeakRef, WeakSet, WebAssembly, WebSocket, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter, __dirname, __filename, arguments, atob, btoa, clearImmediate, clearInterval, clearTimeout, console, crypto, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, eval, expect, exports, fetch, global, globalThis, isFinite, isNaN, jest, module, navigator, parseFloat, parseInt, performance, process, queueMicrotask, require, setImmediate, setInterval, setTimeout, structuredClone, undefined, unescape.\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` (case insensitive) are permitted.\n\n      130 | export const mockThemeProvider = () => {\n      131 |   jest.mock('@/components/ThemeProvider', () => ({\n    > 132 |     useThemeContext: () => createMockThemeContext(true),\n          |                            ^^^^^^^^^^^^^^^^^^^^^^\n      133 |     ThemeProvider: ({ children }: any) => children,\n      134 |     ThemedText: ({ children, variant, testID }: any) => (\n      135 |       <span data-testid={testID || `themed-text-${variant || 'primary'}`}>\n\n      4 | // ============================================================================\n      5 |\n    > 6 | import { render, fireEvent } from '@/test/test-utils';\n        | ^\n      7 | import { useRouter } from 'expo-router';\n      8 | import Index from '../index';\n      9 |\n\n      at File.buildCodeFrameError (node_modules/@babel/core/src/transformation/file/file.ts:256:12)\n      at NodePath.buildError [as buildCodeFrameError] (node_modules/@babel/traverse/src/path/index.ts:142:21)\n      at call (node_modules/@babel/traverse/src/visitors.ts:303:14)\n      at NodePath.call [as _call] (node_modules/@babel/traverse/src/path/context.ts:36:20)\n      at NodePath.call (node_modules/@babel/traverse/src/path/context.ts:21:18)\n      at NodePath.call [as visit] (node_modules/@babel/traverse/src/path/context.ts:97:31)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at traverse (node_modules/@babel/traverse/src/index.ts:83:15)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:119:15)\n          at transformFile.next (<anonymous>)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:49:12)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (app/__tests__/index.test.tsx:6:1)\n\nFAIL src/test/government-integration.test.ts\n  Government Integration Service\n    Tax & Royalty Calculation\n      ✕ should calculate tax and royalty correctly (2 ms)\n      ✕ should generate cryptographic proof for tax calculation (1 ms)\n    Royalty Payment Processing\n      ✕ should process royalty payment successfully (1 ms)\n      ✕ should handle different payment methods\n    Regulatory Approval Workflow\n      ✕ should submit regulatory approval successfully (3 ms)\n      ✓ should handle missing documents correctly (1 ms)\n      ✕ should review regulatory approval successfully\n    Compliance Monitoring\n      ✓ should setup compliance monitoring successfully (1 ms)\n      ✕ should update compliance monitoring with new data\n    Government Reporting\n      ✕ should generate government report successfully (61 ms)\n      ✕ should handle different report types (1 ms)\n    Government System Sync\n      ✓ should sync with government systems successfully\n      ✓ should handle offline mode gracefully\n    Compliance Auditing\n      ✕ should conduct tax compliance audit (1 ms)\n      ✕ should detect violations in environmental compliance\n    Error Handling\n      ✓ should handle invalid gold weight gracefully (1 ms)\n      ✓ should handle invalid payment method gracefully\n      ✓ should handle missing workflow gracefully (1 ms)\n    Performance Testing\n      ✕ should complete tax calculation within reasonable time\n      ✕ should handle multiple concurrent operations\n    Data Integrity\n      ✕ should maintain data consistency across operations\n      ✕ should generate unique IDs for all operations\n\n  ● Government Integration Service › Tax & Royalty Calculation › should calculate tax and royalty correctly\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/government-integration.test.ts:31:55)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Tax & Royalty Calculation › should generate cryptographic proof for tax calculation\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/government-integration.test.ts:53:55)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Royalty Payment Processing › should process royalty payment successfully\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at GovernmentIntegrationService.calculateTaxAndRoyalty (src/services/government-integration.ts:195:38)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as processRoyaltyPayment] (src/services/government-integration.ts:186:30)\n      at Object.processRoyaltyPayment (src/test/government-integration.test.ts:78:51)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Royalty Payment Processing › should handle different payment methods\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at GovernmentIntegrationService.calculateTaxAndRoyalty (src/services/government-integration.ts:195:38)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as processRoyaltyPayment] (src/services/government-integration.ts:186:30)\n      at Object.processRoyaltyPayment (src/test/government-integration.test.ts:99:53)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Regulatory Approval Workflow › should submit regulatory approval successfully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"submitted\"\n    Received: \"pending_documents\"\n\n      138 |       expect(workflow.approvalType).toBe(approvalType);\n      139 |       expect(workflow.applicantId).toBe(applicantId);\n    > 140 |       expect(workflow.status).toBe('submitted');\n          |                               ^\n      141 |       expect(workflow.complianceScore).toBeGreaterThan(0);\n      142 |       expect(workflow.riskAssessment).toBeDefined();\n      143 |     });\n\n      at Object.toBe (src/test/government-integration.test.ts:140:31)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Regulatory Approval Workflow › should review regulatory approval successfully\n\n    Workflow not found\n\n      248 |       const workflow = await this.getWorkflowRecord(workflowId);\n      249 |       if (!workflow) {\n    > 250 |         throw new Error('Workflow not found');\n          |               ^\n      251 |       }\n      252 |\n      253 |       workflow.status = decision;\n\n      at RegulatoryComplianceService.<anonymous> (src/services/regulatory-compliance.ts:250:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Compliance Monitoring › should update compliance monitoring with new data\n\n    Monitoring record not found\n\n      331 |       const monitoring = await this.getMonitoringRecord(monitorId);\n      332 |       if (!monitoring) {\n    > 333 |         throw new Error('Monitoring record not found');\n          |               ^\n      334 |       }\n      335 |\n      336 |       // Update metrics based on new data\n\n      at RegulatoryComplianceService.<anonymous> (src/services/regulatory-compliance.ts:333:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Government Reporting › should generate government report successfully\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Government Reporting › should handle different report types\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Compliance Auditing › should conduct tax compliance audit\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Compliance Auditing › should detect violations in environmental compliance\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Performance Testing › should complete tax calculation within reasonable time\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/government-integration.test.ts:360:35)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Performance Testing › should handle multiple concurrent operations\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at calculateTaxAndRoyalty (src/test/government-integration.test.ts:372:31)\n          at Function.from (<anonymous>)\n      at Object.from (src/test/government-integration.test.ts:371:30)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Data Integrity › should maintain data consistency across operations\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/government-integration.test.ts:390:55)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Data Integrity › should generate unique IDs for all operations\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/government-integration.test.ts:415:55)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/test/__tests__/testing-infrastructure.test.ts\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n       5 |\n       6 | import React, { ReactElement, ReactNode } from 'react';\n    >  7 | import { render, RenderOptions } from '@testing-library/react-native';\n         | ^\n       8 | import { act, fireEvent, waitFor } from '@testing-library/react-native';\n       9 |\n      10 | // ============================================================================\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/test/testing-utils.tsx:7:1)\n      at Object.require (src/test/__tests__/testing-infrastructure.test.ts:6:1)\n\nFAIL src/components/__tests__/SystemStatus.test.tsx\n  ● Test suite failed to run\n\n    ReferenceError: /Users/amanianai/geotag-app/src/test/test-utils.tsx: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variables.\n    Invalid variable access: createMockThemeContext\n    Allowed objects: AbortController, AbortSignal, AggregateError, Array, ArrayBuffer, Atomics, BigInt, BigInt64Array, BigUint64Array, Blob, Boolean, BroadcastChannel, Buffer, ByteLengthQueuingStrategy, CompressionStream, CountQueuingStrategy, Crypto, CryptoKey, CustomEvent, DOMException, DataView, Date, DecompressionStream, Error, EvalError, Event, EventTarget, File, FinalizationRegistry, Float32Array, Float64Array, FormData, Function, Generator, GeneratorFunction, Headers, Infinity, Int16Array, Int32Array, Int8Array, InternalError, Intl, Iterator, JSON, Map, Math, MessageChannel, MessageEvent, MessagePort, NaN, Navigator, Number, Object, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserver, PerformanceObserverEntryList, PerformanceResourceTiming, Promise, Proxy, RangeError, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, ReferenceError, Reflect, RegExp, Request, Response, Set, SharedArrayBuffer, String, SubtleCrypto, Symbol, SyntaxError, TextDecoder, TextDecoderStream, TextEncoder, TextEncoderStream, TransformStream, TransformStreamDefaultController, TypeError, URIError, URL, URLSearchParams, Uint16Array, Uint32Array, Uint8Array, Uint8ClampedArray, WeakMap, WeakRef, WeakSet, WebAssembly, WebSocket, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter, __dirname, __filename, arguments, atob, btoa, clearImmediate, clearInterval, clearTimeout, console, crypto, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, eval, expect, exports, fetch, global, globalThis, isFinite, isNaN, jest, module, navigator, parseFloat, parseInt, performance, process, queueMicrotask, require, setImmediate, setInterval, setTimeout, structuredClone, undefined, unescape.\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` (case insensitive) are permitted.\n\n      130 | export const mockThemeProvider = () => {\n      131 |   jest.mock('@/components/ThemeProvider', () => ({\n    > 132 |     useThemeContext: () => createMockThemeContext(true),\n          |                            ^^^^^^^^^^^^^^^^^^^^^^\n      133 |     ThemeProvider: ({ children }: any) => children,\n      134 |     ThemedText: ({ children, variant, testID }: any) => (\n      135 |       <span data-testid={testID || `themed-text-${variant || 'primary'}`}>\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render } from '@/test/test-utils';\n         | ^\n       8 | import { SystemStatus } from '../SystemStatus';\n       9 |\n      10 | // Mock the system store\n\n      at File.buildCodeFrameError (node_modules/@babel/core/src/transformation/file/file.ts:256:12)\n      at NodePath.buildError [as buildCodeFrameError] (node_modules/@babel/traverse/src/path/index.ts:142:21)\n      at call (node_modules/@babel/traverse/src/visitors.ts:303:14)\n      at NodePath.call [as _call] (node_modules/@babel/traverse/src/path/context.ts:36:20)\n      at NodePath.call (node_modules/@babel/traverse/src/path/context.ts:21:18)\n      at NodePath.call [as visit] (node_modules/@babel/traverse/src/path/context.ts:97:31)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at traverse (node_modules/@babel/traverse/src/index.ts:83:15)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:119:15)\n          at transformFile.next (<anonymous>)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:49:12)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (src/components/__tests__/SystemStatus.test.tsx:7:1)\n\nFAIL src/components/__tests__/Footer.test.tsx\n  ● Test suite failed to run\n\n    ReferenceError: /Users/amanianai/geotag-app/src/test/test-utils.tsx: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variables.\n    Invalid variable access: createMockThemeContext\n    Allowed objects: AbortController, AbortSignal, AggregateError, Array, ArrayBuffer, Atomics, BigInt, BigInt64Array, BigUint64Array, Blob, Boolean, BroadcastChannel, Buffer, ByteLengthQueuingStrategy, CompressionStream, CountQueuingStrategy, Crypto, CryptoKey, CustomEvent, DOMException, DataView, Date, DecompressionStream, Error, EvalError, Event, EventTarget, File, FinalizationRegistry, Float32Array, Float64Array, FormData, Function, Generator, GeneratorFunction, Headers, Infinity, Int16Array, Int32Array, Int8Array, InternalError, Intl, Iterator, JSON, Map, Math, MessageChannel, MessageEvent, MessagePort, NaN, Navigator, Number, Object, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserver, PerformanceObserverEntryList, PerformanceResourceTiming, Promise, Proxy, RangeError, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, ReferenceError, Reflect, RegExp, Request, Response, Set, SharedArrayBuffer, String, SubtleCrypto, Symbol, SyntaxError, TextDecoder, TextDecoderStream, TextEncoder, TextEncoderStream, TransformStream, TransformStreamDefaultController, TypeError, URIError, URL, URLSearchParams, Uint16Array, Uint32Array, Uint8Array, Uint8ClampedArray, WeakMap, WeakRef, WeakSet, WebAssembly, WebSocket, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter, __dirname, __filename, arguments, atob, btoa, clearImmediate, clearInterval, clearTimeout, console, crypto, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, eval, expect, exports, fetch, global, globalThis, isFinite, isNaN, jest, module, navigator, parseFloat, parseInt, performance, process, queueMicrotask, require, setImmediate, setInterval, setTimeout, structuredClone, undefined, unescape.\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` (case insensitive) are permitted.\n\n      130 | export const mockThemeProvider = () => {\n      131 |   jest.mock('@/components/ThemeProvider', () => ({\n    > 132 |     useThemeContext: () => createMockThemeContext(true),\n          |                            ^^^^^^^^^^^^^^^^^^^^^^\n      133 |     ThemeProvider: ({ children }: any) => children,\n      134 |     ThemedText: ({ children, variant, testID }: any) => (\n      135 |       <span data-testid={testID || `themed-text-${variant || 'primary'}`}>\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render } from '@/test/test-utils';\n         | ^\n       8 | import { Footer } from '../Footer';\n       9 |\n      10 | // Mock expo-vector-icons\n\n      at File.buildCodeFrameError (node_modules/@babel/core/src/transformation/file/file.ts:256:12)\n      at NodePath.buildError [as buildCodeFrameError] (node_modules/@babel/traverse/src/path/index.ts:142:21)\n      at call (node_modules/@babel/traverse/src/visitors.ts:303:14)\n      at NodePath.call [as _call] (node_modules/@babel/traverse/src/path/context.ts:36:20)\n      at NodePath.call (node_modules/@babel/traverse/src/path/context.ts:21:18)\n      at NodePath.call [as visit] (node_modules/@babel/traverse/src/path/context.ts:97:31)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at traverse (node_modules/@babel/traverse/src/index.ts:83:15)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:119:15)\n          at transformFile.next (<anonymous>)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:49:12)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (src/components/__tests__/Footer.test.tsx:7:1)\n\nFAIL src/components/__tests__/Header.test.tsx\n  ● Test suite failed to run\n\n    ReferenceError: /Users/amanianai/geotag-app/src/test/test-utils.tsx: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variables.\n    Invalid variable access: createMockThemeContext\n    Allowed objects: AbortController, AbortSignal, AggregateError, Array, ArrayBuffer, Atomics, BigInt, BigInt64Array, BigUint64Array, Blob, Boolean, BroadcastChannel, Buffer, ByteLengthQueuingStrategy, CompressionStream, CountQueuingStrategy, Crypto, CryptoKey, CustomEvent, DOMException, DataView, Date, DecompressionStream, Error, EvalError, Event, EventTarget, File, FinalizationRegistry, Float32Array, Float64Array, FormData, Function, Generator, GeneratorFunction, Headers, Infinity, Int16Array, Int32Array, Int8Array, InternalError, Intl, Iterator, JSON, Map, Math, MessageChannel, MessageEvent, MessagePort, NaN, Navigator, Number, Object, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserver, PerformanceObserverEntryList, PerformanceResourceTiming, Promise, Proxy, RangeError, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, ReferenceError, Reflect, RegExp, Request, Response, Set, SharedArrayBuffer, String, SubtleCrypto, Symbol, SyntaxError, TextDecoder, TextDecoderStream, TextEncoder, TextEncoderStream, TransformStream, TransformStreamDefaultController, TypeError, URIError, URL, URLSearchParams, Uint16Array, Uint32Array, Uint8Array, Uint8ClampedArray, WeakMap, WeakRef, WeakSet, WebAssembly, WebSocket, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter, __dirname, __filename, arguments, atob, btoa, clearImmediate, clearInterval, clearTimeout, console, crypto, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, eval, expect, exports, fetch, global, globalThis, isFinite, isNaN, jest, module, navigator, parseFloat, parseInt, performance, process, queueMicrotask, require, setImmediate, setInterval, setTimeout, structuredClone, undefined, unescape.\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` (case insensitive) are permitted.\n\n      130 | export const mockThemeProvider = () => {\n      131 |   jest.mock('@/components/ThemeProvider', () => ({\n    > 132 |     useThemeContext: () => createMockThemeContext(true),\n          |                            ^^^^^^^^^^^^^^^^^^^^^^\n      133 |     ThemeProvider: ({ children }: any) => children,\n      134 |     ThemedText: ({ children, variant, testID }: any) => (\n      135 |       <span data-testid={testID || `themed-text-${variant || 'primary'}`}>\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render, fireEvent } from '@/test/test-utils';\n         | ^\n       8 | import { Header } from '../Header';\n       9 | import { useUser } from '@/store/user';\n      10 |\n\n      at File.buildCodeFrameError (node_modules/@babel/core/src/transformation/file/file.ts:256:12)\n      at NodePath.buildError [as buildCodeFrameError] (node_modules/@babel/traverse/src/path/index.ts:142:21)\n      at call (node_modules/@babel/traverse/src/visitors.ts:303:14)\n      at NodePath.call [as _call] (node_modules/@babel/traverse/src/path/context.ts:36:20)\n      at NodePath.call (node_modules/@babel/traverse/src/path/context.ts:21:18)\n      at NodePath.call [as visit] (node_modules/@babel/traverse/src/path/context.ts:97:31)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at traverse (node_modules/@babel/traverse/src/index.ts:83:15)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:119:15)\n          at transformFile.next (<anonymous>)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:49:12)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (src/components/__tests__/Header.test.tsx:7:1)\n\nFAIL src/test/performance.test.ts\n  Performance Testing Suite\n    Cryptography Performance\n      ✓ should complete hash generation within 5 seconds (2 ms)\n      ✕ should handle multiple concurrent hash operations (11 ms)\n      ✕ should complete multi-signature generation within 3 seconds (60 ms)\n      ✕ should handle certificate generation efficiently (1 ms)\n    GPS Performance\n      ✕ should acquire location within 10 seconds\n      ✕ should handle multiple concurrent location requests\n      ✕ should filter location data efficiently\n    Government Integration Performance\n      ✕ should complete tax calculation within 3 seconds\n      ✕ should handle multiple concurrent tax calculations (1 ms)\n      ✕ should process payment efficiently (1 ms)\n      ✕ should generate government reports efficiently (1 ms)\n    Memory Management\n      ✓ should maintain stable memory usage during operations (6 ms)\n      ✓ should handle large datasets efficiently (43 ms)\n    Network Performance\n      ✓ should handle network latency gracefully\n      ✕ should handle offline operations efficiently (1 ms)\n    UI Performance\n      ✓ should render components efficiently\n      ✓ should handle user interactions responsively (11 ms)\n    Battery Optimization\n      ✕ should minimize battery usage during operations\n      ✕ should optimize GPS usage for battery efficiency\n    Load Testing\n      ✓ should handle high concurrent user load (37 ms)\n      ✕ should maintain performance under stress (12 ms)\n    Scalability Testing\n      ✓ should scale with increasing data volume (130 ms)\n      ✓ should handle memory scaling efficiently (54 ms)\n\n  ● Performance Testing Suite › Cryptography Performance › should handle multiple concurrent hash operations\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      60 |       expect(duration).toBeLessThan(30000); // Should complete within 30 seconds\n      61 |       results.forEach(result => {\n    > 62 |         expect(result.hash).toBeDefined();\n         |                             ^\n      63 |         expect(result.entropyQuality).toBeGreaterThan(0.7);\n      64 |       });\n      65 |     });\n\n      at toBeDefined (src/test/performance.test.ts:62:29)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (src/test/performance.test.ts:61:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Performance Testing Suite › Cryptography Performance › should complete multi-signature generation within 3 seconds\n\n    Military-grade identity required\n\n      122 |     try {\n      123 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 124 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      125 |\n      126 |       const dataHash = sha256(data);\n      127 |       \n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:124:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Performance Testing Suite › Cryptography Performance › should handle certificate generation efficiently\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Performance Testing Suite › GPS Performance › should acquire location within 10 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      110 |       const startTime = Date.now();\n      111 |       \n    > 112 |       await locationService.getMilitaryGradeCurrentLocation();\n          |                             ^\n      113 |       \n      114 |       const endTime = Date.now();\n      115 |       const duration = endTime - startTime;\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/performance.test.ts:112:29)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › GPS Performance › should handle multiple concurrent location requests\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      120 |     it('should handle multiple concurrent location requests', async () => {\n      121 |       const promises = Array.from({ length: 10 }, () =>\n    > 122 |         locationService.getMilitaryGradeCurrentLocation()\n          |                         ^\n      123 |       );\n      124 |\n      125 |       const startTime = Date.now();\n\n      at getMilitaryGradeCurrentLocation (src/test/performance.test.ts:122:25)\n          at Function.from (<anonymous>)\n      at Object.from (src/test/performance.test.ts:121:30)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › GPS Performance › should filter location data efficiently\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      148 |       \n      149 |       const filteredLocations = locations.map(location => \n    > 150 |         locationService.filterLocation(location)\n          |                         ^\n      151 |       );\n      152 |       \n      153 |       const endTime = Date.now();\n\n      at filterLocation (src/test/performance.test.ts:150:25)\n          at Array.map (<anonymous>)\n      at Object.map (src/test/performance.test.ts:149:43)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Government Integration Performance › should complete tax calculation within 3 seconds\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/performance.test.ts:165:35)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Government Integration Performance › should handle multiple concurrent tax calculations\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at calculateTaxAndRoyalty (src/test/performance.test.ts:180:31)\n          at Function.from (<anonymous>)\n      at Object.from (src/test/performance.test.ts:179:30)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Government Integration Performance › should process payment efficiently\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at GovernmentIntegrationService.calculateTaxAndRoyalty (src/services/government-integration.ts:195:38)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as processRoyaltyPayment] (src/services/government-integration.ts:186:30)\n      at Object.processRoyaltyPayment (src/test/performance.test.ts:205:35)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Government Integration Performance › should generate government reports efficiently\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Performance Testing Suite › Network Performance › should handle offline operations efficiently\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at calculateTaxAndRoyalty (src/test/performance.test.ts:302:31)\n          at Function.from (<anonymous>)\n      at Object.from (src/test/performance.test.ts:301:39)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Battery Optimization › should minimize battery usage during operations\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      378 |       // Perform battery-intensive operations\n      379 |       for (let i = 0; i < 50; i++) {\n    > 380 |         await locationService.getMilitaryGradeCurrentLocation();\n          |                               ^\n      381 |         await cryptoService.generateQuantumResistantHash({\n      382 |           minerId: `MINER_${i}`,\n      383 |           location: { latitude: 5.5600, longitude: -0.2057 },\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/performance.test.ts:380:31)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Battery Optimization › should optimize GPS usage for battery efficiency\n\n    TypeError: Cannot read properties of undefined (reading 'watchMilitaryGradeLocation')\n\n      398 |       \n      399 |       // Simulate GPS tracking with battery optimization\n    > 400 |       const trackingSession = await locationService.watchMilitaryGradeLocation(\n          |                                                     ^\n      401 |         (location) => console.log('Location update:', location),\n      402 |         { interval: 5000, distanceFilter: 10 } // 5-second interval, 10m filter\n      403 |       );\n\n      at Object.watchMilitaryGradeLocation (src/test/performance.test.ts:400:53)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Load Testing › should maintain performance under stress\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at calculateTaxAndRoyalty (src/test/performance.test.ts:463:33)\n          at Array.map (<anonymous>)\n      at Object.map (src/test/performance.test.ts:462:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/components/__tests__/Layout.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render } from '@testing-library/react-native';\n         | ^\n       8 | import { Layout } from '../Layout';\n       9 |\n      10 | // Mock the Header component\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/__tests__/Layout.test.tsx:7:1)\n\nFAIL src/components/__tests__/HistoryModal.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n      1 | import React from 'react';\n    > 2 | import { render, fireEvent, waitFor } from '@testing-library/react-native';\n        | ^\n      3 | import { HistoryModal } from '../HistoryModal';\n      4 |\n      5 | // Mock react-native-maps\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/__tests__/HistoryModal.test.tsx:2:1)\n\nFAIL src/store/__tests__/user.test.ts\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n    > 1 | import { renderHook, act } from '@testing-library/react-native';\n        | ^\n      2 | import { useUser } from '../user';\n      3 |\n      4 | describe('User Store', () => {\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/store/__tests__/user.test.ts:1:1)\n\nFAIL src/store/__tests__/system.test.ts\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n    > 1 | import { renderHook, act } from '@testing-library/react-native';\n        | ^\n      2 | import { useSystem } from '../system';\n      3 |\n      4 | describe('System Store', () => {\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/store/__tests__/system.test.ts:1:1)\n\nFAIL src/components/visualization/__tests__/Terrain3D.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n      1 | import React from 'react';\n    > 2 | import { render } from '@testing-library/react-native';\n        | ^\n      3 | import { Terrain3D } from '../Terrain3D';\n      4 |\n      5 | jest.mock('@react-three/fiber/native', () => ({\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/visualization/__tests__/Terrain3D.test.tsx:2:1)\n\nFAIL src/test/security.test.ts\n  Security Service\n    Biometric Authentication\n      ✕ should support fingerprint authentication\n      ✕ should support face recognition authentication (1 ms)\n      ✕ should detect spoofing attempts\n      ✕ should provide fallback authentication methods\n    Secure Storage\n      ✕ should store sensitive data securely (1 ms)\n      ✕ should encrypt stored data\n      ✕ should prevent unauthorized access to secure storage\n    Data Encryption\n      ✕ should encrypt sensitive data with AES-256\n      ✕ should decrypt data correctly (1 ms)\n      ✕ should detect tampered encrypted data\n    Certificate Pinning\n      ✕ should validate SSL certificates\n      ✕ should detect certificate pinning violations\n    Network Security\n      ✕ should detect man-in-the-middle attacks\n      ✕ should validate network connections (1 ms)\n      ✕ should detect suspicious network activity\n    Vulnerability Assessment\n      ✕ should perform comprehensive security audit\n      ✕ should identify security vulnerabilities\n      ✕ should provide security recommendations\n    Penetration Testing\n      ✕ should simulate attack scenarios\n      ✕ should test authentication bypass attempts\n      ✕ should test data injection attacks\n    Compliance Validation\n      ✕ should validate Ghana government compliance\n      ✕ should validate international trade compliance\n      ✕ should validate GDPR compliance\n    Audit Trail\n      ✕ should maintain comprehensive audit logs\n      ✕ should detect unauthorized access attempts\n      ✕ should provide audit trail analysis\n    Data Protection\n      ✕ should implement data retention policies\n      ✕ should protect user privacy\n      ✕ should implement data anonymization (1 ms)\n    Performance Security\n      ✕ should maintain security under load\n      ✕ should handle concurrent security operations\n    Error Handling\n      ✕ should handle security errors gracefully\n      ✕ should provide security incident response\n\n  ● Security Service › Biometric Authentication › should support fingerprint authentication\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      24 |       const isEnrolled = await LocalAuthentication.isEnrolledAsync();\n      25 |\n    > 26 |       expect(hasHardware).toBeDefined();\n         |                           ^\n      27 |       expect(isEnrolled).toBeDefined();\n      28 |\n      29 |       if (hasHardware && isEnrolled) {\n\n      at Object.toBeDefined (src/test/security.test.ts:26:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Security Service › Biometric Authentication › should support face recognition authentication\n\n    TypeError: Cannot read properties of undefined (reading 'includes')\n\n      37 |       const supportedTypes = await LocalAuthentication.supportedAuthenticationTypesAsync();\n      38 |       \n    > 39 |       if (supportedTypes.includes(LocalAuthentication.AuthenticationType.FACIAL_RECOGNITION)) {\n         |                          ^\n      40 |         const result = await authService.authenticateWithFaceRecognition();\n      41 |         expect(result.success).toBeDefined();\n      42 |         expect(result.method).toBe('face_recognition');\n\n      at Object.includes (src/test/security.test.ts:39:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Security Service › Biometric Authentication › should detect spoofing attempts\n\n    TypeError: _auth.authService.checkAntiSpoofing is not a function\n\n      45 |\n      46 |     it('should detect spoofing attempts', async () => {\n    > 47 |       const antiSpoofingResult = await authService.checkAntiSpoofing();\n         |                                                    ^\n      48 |       \n      49 |       expect(antiSpoofingResult).toBeDefined();\n      50 |       expect(antiSpoofingResult.detected).toBeDefined();\n\n      at Object.checkAntiSpoofing (src/test/security.test.ts:47:52)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Biometric Authentication › should provide fallback authentication methods\n\n    TypeError: _auth.authService.getFallbackAuthenticationMethods is not a function\n\n      54 |\n      55 |     it('should provide fallback authentication methods', async () => {\n    > 56 |       const fallbackMethods = await authService.getFallbackAuthenticationMethods();\n         |                                                 ^\n      57 |       \n      58 |       expect(fallbackMethods).toBeInstanceOf(Array);\n      59 |       expect(fallbackMethods.length).toBeGreaterThan(0);\n\n      at Object.getFallbackAuthenticationMethods (src/test/security.test.ts:56:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Secure Storage › should store sensitive data securely\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"{\\\"privateKey\\\":\\\"test_private_key\\\",\\\"certificate\\\":\\\"test_certificate\\\",\\\"identity\\\":\\\"test_identity\\\"}\"\n    Received: null\n\n      74 |       \n      75 |       const retrievedData = await SecureStore.getItemAsync('test_secure_data');\n    > 76 |       expect(retrievedData).toBe(JSON.stringify(testData));\n         |                             ^\n      77 |     });\n      78 |\n      79 |     it('should encrypt stored data', async () => {\n\n      at Object.toBe (src/test/security.test.ts:76:29)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Security Service › Secure Storage › should encrypt stored data\n\n    TypeError: _auth.authService.storeSecureData is not a function\n\n      84 |       };\n      85 |\n    > 86 |       await authService.storeSecureData('sensitive_data', sensitiveData);\n         |                         ^\n      87 |       \n      88 |       const storedData = await authService.getSecureData('sensitive_data');\n      89 |       expect(storedData).toBeDefined();\n\n      at Object.storeSecureData (src/test/security.test.ts:86:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Secure Storage › should prevent unauthorized access to secure storage\n\n    TypeError: _auth.authService.storeSecureData is not a function\n\n      93 |     it('should prevent unauthorized access to secure storage', async () => {\n      94 |       const testData = { secret: 'test_secret' };\n    > 95 |       await authService.storeSecureData('protected_data', testData);\n         |                         ^\n      96 |\n      97 |       // Attempt unauthorized access\n      98 |       const unauthorizedAccess = await authService.attemptUnauthorizedAccess('protected_data');\n\n      at Object.storeSecureData (src/test/security.test.ts:95:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Encryption › should encrypt sensitive data with AES-256\n\n    TypeError: cryptoService.encryptData is not a function\n\n      110 |       };\n      111 |\n    > 112 |       const encryptedData = await cryptoService.encryptData(sensitiveData);\n          |                                                 ^\n      113 |       \n      114 |       expect(encryptedData).toBeDefined();\n      115 |       expect(encryptedData.encrypted).toBeDefined();\n\n      at Object.encryptData (src/test/security.test.ts:112:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Encryption › should decrypt data correctly\n\n    TypeError: cryptoService.encryptData is not a function\n\n      125 |       };\n      126 |\n    > 127 |       const encryptedData = await cryptoService.encryptData(originalData);\n          |                                                 ^\n      128 |       const decryptedData = await cryptoService.decryptData(encryptedData);\n      129 |\n      130 |       expect(decryptedData.minerId).toBe(originalData.minerId);\n\n      at Object.encryptData (src/test/security.test.ts:127:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Encryption › should detect tampered encrypted data\n\n    TypeError: cryptoService.encryptData is not a function\n\n      135 |     it('should detect tampered encrypted data', async () => {\n      136 |       const originalData = { secret: 'test_secret' };\n    > 137 |       const encryptedData = await cryptoService.encryptData(originalData);\n          |                                                 ^\n      138 |\n      139 |       // Tamper with encrypted data\n      140 |       const tamperedData = { ...encryptedData };\n\n      at Object.encryptData (src/test/security.test.ts:137:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Certificate Pinning › should validate SSL certificates\n\n    TypeError: _auth.authService.validateSSLCertificate is not a function\n\n      149 |   describe('Certificate Pinning', () => {\n      150 |     it('should validate SSL certificates', async () => {\n    > 151 |       const certificateValidation = await authService.validateSSLCertificate('https://api.geotag.gh');\n          |                                                       ^\n      152 |       \n      153 |       expect(certificateValidation.valid).toBe(true);\n      154 |       expect(certificateValidation.issuer).toBeDefined();\n\n      at Object.validateSSLCertificate (src/test/security.test.ts:151:55)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Certificate Pinning › should detect certificate pinning violations\n\n    TypeError: _auth.authService.checkCertificatePinning is not a function\n\n      158 |\n      159 |     it('should detect certificate pinning violations', async () => {\n    > 160 |       const pinningCheck = await authService.checkCertificatePinning('https://malicious-site.com');\n          |                                              ^\n      161 |       \n      162 |       expect(pinningCheck.valid).toBe(false);\n      163 |       expect(pinningCheck.violation).toBe('certificate_pinning_violation');\n\n      at Object.checkCertificatePinning (src/test/security.test.ts:160:46)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Network Security › should detect man-in-the-middle attacks\n\n    TypeError: _auth.authService.detectManInTheMiddle is not a function\n\n      168 |   describe('Network Security', () => {\n      169 |     it('should detect man-in-the-middle attacks', async () => {\n    > 170 |       const mitmDetection = await authService.detectManInTheMiddle();\n          |                                               ^\n      171 |       \n      172 |       expect(mitmDetection.detected).toBeDefined();\n      173 |       expect(mitmDetection.confidence).toBeDefined();\n\n      at Object.detectManInTheMiddle (src/test/security.test.ts:170:47)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Network Security › should validate network connections\n\n    TypeError: _auth.authService.validateNetworkConnection is not a function\n\n      176 |\n      177 |     it('should validate network connections', async () => {\n    > 178 |       const networkValidation = await authService.validateNetworkConnection();\n          |                                                   ^\n      179 |       \n      180 |       expect(networkValidation.secure).toBeDefined();\n      181 |       expect(networkValidation.protocol).toBeDefined();\n\n      at Object.validateNetworkConnection (src/test/security.test.ts:178:51)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Network Security › should detect suspicious network activity\n\n    TypeError: _auth.authService.detectSuspiciousNetworkActivity is not a function\n\n      185 |\n      186 |     it('should detect suspicious network activity', async () => {\n    > 187 |       const suspiciousActivity = await authService.detectSuspiciousNetworkActivity();\n          |                                                    ^\n      188 |       \n      189 |       expect(suspiciousActivity.detected).toBeDefined();\n      190 |       expect(suspiciousActivity.activities).toBeInstanceOf(Array);\n\n      at Object.detectSuspiciousNetworkActivity (src/test/security.test.ts:187:52)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Vulnerability Assessment › should perform comprehensive security audit\n\n    TypeError: _auth.authService.performSecurityAudit is not a function\n\n      196 |   describe('Vulnerability Assessment', () => {\n      197 |     it('should perform comprehensive security audit', async () => {\n    > 198 |       const securityAudit = await authService.performSecurityAudit();\n          |                                               ^\n      199 |       \n      200 |       expect(securityAudit).toBeDefined();\n      201 |       expect(securityAudit.vulnerabilities).toBeInstanceOf(Array);\n\n      at Object.performSecurityAudit (src/test/security.test.ts:198:47)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Vulnerability Assessment › should identify security vulnerabilities\n\n    TypeError: _auth.authService.identifyVulnerabilities is not a function\n\n      206 |\n      207 |     it('should identify security vulnerabilities', async () => {\n    > 208 |       const vulnerabilities = await authService.identifyVulnerabilities();\n          |                                                 ^\n      209 |       \n      210 |       expect(vulnerabilities).toBeInstanceOf(Array);\n      211 |       vulnerabilities.forEach(vulnerability => {\n\n      at Object.identifyVulnerabilities (src/test/security.test.ts:208:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Vulnerability Assessment › should provide security recommendations\n\n    TypeError: _auth.authService.getSecurityRecommendations is not a function\n\n      218 |\n      219 |     it('should provide security recommendations', async () => {\n    > 220 |       const recommendations = await authService.getSecurityRecommendations();\n          |                                                 ^\n      221 |       \n      222 |       expect(recommendations).toBeInstanceOf(Array);\n      223 |       expect(recommendations.length).toBeGreaterThan(0);\n\n      at Object.getSecurityRecommendations (src/test/security.test.ts:220:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Penetration Testing › should simulate attack scenarios\n\n    TypeError: _auth.authService.simulateAttackScenarios is not a function\n\n      232 |   describe('Penetration Testing', () => {\n      233 |     it('should simulate attack scenarios', async () => {\n    > 234 |       const attackSimulation = await authService.simulateAttackScenarios();\n          |                                                  ^\n      235 |       \n      236 |       expect(attackSimulation).toBeDefined();\n      237 |       expect(attackSimulation.scenarios).toBeInstanceOf(Array);\n\n      at Object.simulateAttackScenarios (src/test/security.test.ts:234:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Penetration Testing › should test authentication bypass attempts\n\n    TypeError: _auth.authService.testAuthenticationBypass is not a function\n\n      241 |\n      242 |     it('should test authentication bypass attempts', async () => {\n    > 243 |       const bypassAttempts = await authService.testAuthenticationBypass();\n          |                                                ^\n      244 |       \n      245 |       expect(bypassAttempts.successful).toBe(false);\n      246 |       expect(bypassAttempts.attempts).toBeInstanceOf(Array);\n\n      at Object.testAuthenticationBypass (src/test/security.test.ts:243:48)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Penetration Testing › should test data injection attacks\n\n    TypeError: _auth.authService.testDataInjection is not a function\n\n      250 |\n      251 |     it('should test data injection attacks', async () => {\n    > 252 |       const injectionTests = await authService.testDataInjection();\n          |                                                ^\n      253 |       \n      254 |       expect(injectionTests.vulnerable).toBe(false);\n      255 |       expect(injectionTests.tests).toBeInstanceOf(Array);\n\n      at Object.testDataInjection (src/test/security.test.ts:252:48)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Compliance Validation › should validate Ghana government compliance\n\n    TypeError: _auth.authService.validateGhanaCompliance is not a function\n\n      261 |   describe('Compliance Validation', () => {\n      262 |     it('should validate Ghana government compliance', async () => {\n    > 263 |       const ghanaCompliance = await authService.validateGhanaCompliance();\n          |                                                 ^\n      264 |       \n      265 |       expect(ghanaCompliance.compliant).toBe(true);\n      266 |       expect(ghanaCompliance.standards).toBeInstanceOf(Array);\n\n      at Object.validateGhanaCompliance (src/test/security.test.ts:263:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Compliance Validation › should validate international trade compliance\n\n    TypeError: _auth.authService.validateInternationalCompliance is not a function\n\n      270 |\n      271 |     it('should validate international trade compliance', async () => {\n    > 272 |       const internationalCompliance = await authService.validateInternationalCompliance();\n          |                                                         ^\n      273 |       \n      274 |       expect(internationalCompliance.compliant).toBe(true);\n      275 |       expect(internationalCompliance.standards).toBeInstanceOf(Array);\n\n      at Object.validateInternationalCompliance (src/test/security.test.ts:272:57)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Compliance Validation › should validate GDPR compliance\n\n    TypeError: _auth.authService.validateGDPRCompliance is not a function\n\n      279 |\n      280 |     it('should validate GDPR compliance', async () => {\n    > 281 |       const gdprCompliance = await authService.validateGDPRCompliance();\n          |                                                ^\n      282 |       \n      283 |       expect(gdprCompliance.compliant).toBe(true);\n      284 |       expect(gdprCompliance.requirements).toBeInstanceOf(Array);\n\n      at Object.validateGDPRCompliance (src/test/security.test.ts:281:48)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Audit Trail › should maintain comprehensive audit logs\n\n    TypeError: _auth.authService.getAuditLogs is not a function\n\n      290 |   describe('Audit Trail', () => {\n      291 |     it('should maintain comprehensive audit logs', async () => {\n    > 292 |       const auditLogs = await authService.getAuditLogs();\n          |                                           ^\n      293 |       \n      294 |       expect(auditLogs).toBeInstanceOf(Array);\n      295 |       expect(auditLogs.length).toBeGreaterThan(0);\n\n      at Object.getAuditLogs (src/test/security.test.ts:292:43)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Audit Trail › should detect unauthorized access attempts\n\n    TypeError: _auth.authService.detectUnauthorizedAccess is not a function\n\n      303 |\n      304 |     it('should detect unauthorized access attempts', async () => {\n    > 305 |       const unauthorizedAttempts = await authService.detectUnauthorizedAccess();\n          |                                                      ^\n      306 |       \n      307 |       expect(unauthorizedAttempts.detected).toBeDefined();\n      308 |       expect(unauthorizedAttempts.attempts).toBeInstanceOf(Array);\n\n      at Object.detectUnauthorizedAccess (src/test/security.test.ts:305:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Audit Trail › should provide audit trail analysis\n\n    TypeError: _auth.authService.analyzeAuditTrail is not a function\n\n      312 |\n      313 |     it('should provide audit trail analysis', async () => {\n    > 314 |       const auditAnalysis = await authService.analyzeAuditTrail();\n          |                                               ^\n      315 |       \n      316 |       expect(auditAnalysis).toBeDefined();\n      317 |       expect(auditAnalysis.totalEvents).toBeDefined();\n\n      at Object.analyzeAuditTrail (src/test/security.test.ts:314:47)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Protection › should implement data retention policies\n\n    TypeError: _auth.authService.getDataRetentionPolicies is not a function\n\n      324 |   describe('Data Protection', () => {\n      325 |     it('should implement data retention policies', async () => {\n    > 326 |       const retentionPolicies = await authService.getDataRetentionPolicies();\n          |                                                   ^\n      327 |       \n      328 |       expect(retentionPolicies).toBeDefined();\n      329 |       expect(retentionPolicies.policies).toBeInstanceOf(Array);\n\n      at Object.getDataRetentionPolicies (src/test/security.test.ts:326:51)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Protection › should protect user privacy\n\n    TypeError: _auth.authService.validatePrivacyProtection is not a function\n\n      333 |\n      334 |     it('should protect user privacy', async () => {\n    > 335 |       const privacyProtection = await authService.validatePrivacyProtection();\n          |                                                   ^\n      336 |       \n      337 |       expect(privacyProtection.protected).toBe(true);\n      338 |       expect(privacyProtection.measures).toBeInstanceOf(Array);\n\n      at Object.validatePrivacyProtection (src/test/security.test.ts:335:51)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Protection › should implement data anonymization\n\n    TypeError: _auth.authService.anonymizeData is not a function\n\n      348 |       };\n      349 |\n    > 350 |       const anonymizedData = await authService.anonymizeData(testData);\n          |                                                ^\n      351 |       \n      352 |       expect(anonymizedData.minerId).not.toBe(testData.minerId);\n      353 |       expect(anonymizedData.name).not.toBe(testData.name);\n\n      at Object.anonymizeData (src/test/security.test.ts:350:48)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Performance Security › should maintain security under load\n\n    TypeError: _auth.authService.testSecurityUnderLoad is not a function\n\n      359 |   describe('Performance Security', () => {\n      360 |     it('should maintain security under load', async () => {\n    > 361 |       const loadTest = await authService.testSecurityUnderLoad();\n          |                                          ^\n      362 |       \n      363 |       expect(loadTest.success).toBe(true);\n      364 |       expect(loadTest.responseTime).toBeLessThan(5000); // Under 5 seconds\n\n      at Object.testSecurityUnderLoad (src/test/security.test.ts:361:42)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Performance Security › should handle concurrent security operations\n\n    TypeError: _auth.authService.testConcurrentSecurityOperations is not a function\n\n      368 |\n      369 |     it('should handle concurrent security operations', async () => {\n    > 370 |       const concurrentTest = await authService.testConcurrentSecurityOperations();\n          |                                                ^\n      371 |       \n      372 |       expect(concurrentTest.success).toBe(true);\n      373 |       expect(concurrentTest.operations).toBeGreaterThan(0);\n\n      at Object.testConcurrentSecurityOperations (src/test/security.test.ts:370:48)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Error Handling › should handle security errors gracefully\n\n    TypeError: _auth.authService.testSecurityErrorHandling is not a function\n\n      379 |   describe('Error Handling', () => {\n      380 |     it('should handle security errors gracefully', async () => {\n    > 381 |       const errorHandling = await authService.testSecurityErrorHandling();\n          |                                               ^\n      382 |       \n      383 |       expect(errorHandling.success).toBe(true);\n      384 |       expect(errorHandling.errorsHandled).toBe(true);\n\n      at Object.testSecurityErrorHandling (src/test/security.test.ts:381:47)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Error Handling › should provide security incident response\n\n    TypeError: _auth.authService.testIncidentResponse is not a function\n\n      388 |\n      389 |     it('should provide security incident response', async () => {\n    > 390 |       const incidentResponse = await authService.testIncidentResponse();\n          |                                                  ^\n      391 |       \n      392 |       expect(incidentResponse.responded).toBe(true);\n      393 |       expect(incidentResponse.responseTime).toBeLessThan(30000); // Under 30 seconds\n\n      at Object.testIncidentResponse (src/test/security.test.ts:390:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/components/visualization/__tests__/ProvenanceGraph.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render, fireEvent, waitFor, act } from '@testing-library/react-native';\n         | ^\n       8 | import { ProvenanceGraph, ProvenanceNode, ProvenanceEdge } from '../ProvenanceGraph';\n       9 | import { ThemeProvider } from '@/components/ThemeProvider';\n      10 | import * as Haptics from 'expo-haptics';\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/visualization/__tests__/ProvenanceGraph.test.tsx:7:1)\n\nFAIL src/components/camera/__tests__/CinematicCamera.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n      1 | import React from 'react';\n    > 2 | import { render } from '@testing-library/react-native';\n        | ^\n      3 | import { CinematicCamera } from '../CinematicCamera';\n      4 |\n      5 | jest.mock('expo-camera', () => ({\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/camera/__tests__/CinematicCamera.test.tsx:2:1)\n\nFAIL src/components/gps/__tests__/GPSComponents.test.tsx\n  ● Test suite failed to run\n\n    ReferenceError: /Users/amanianai/geotag-app/src/test/test-utils.tsx: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variables.\n    Invalid variable access: createMockThemeContext\n    Allowed objects: AbortController, AbortSignal, AggregateError, Array, ArrayBuffer, Atomics, BigInt, BigInt64Array, BigUint64Array, Blob, Boolean, BroadcastChannel, Buffer, ByteLengthQueuingStrategy, CompressionStream, CountQueuingStrategy, Crypto, CryptoKey, CustomEvent, DOMException, DataView, Date, DecompressionStream, Error, EvalError, Event, EventTarget, File, FinalizationRegistry, Float32Array, Float64Array, FormData, Function, Generator, GeneratorFunction, Headers, Infinity, Int16Array, Int32Array, Int8Array, InternalError, Intl, Iterator, JSON, Map, Math, MessageChannel, MessageEvent, MessagePort, NaN, Navigator, Number, Object, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserver, PerformanceObserverEntryList, PerformanceResourceTiming, Promise, Proxy, RangeError, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, ReferenceError, Reflect, RegExp, Request, Response, Set, SharedArrayBuffer, String, SubtleCrypto, Symbol, SyntaxError, TextDecoder, TextDecoderStream, TextEncoder, TextEncoderStream, TransformStream, TransformStreamDefaultController, TypeError, URIError, URL, URLSearchParams, Uint16Array, Uint32Array, Uint8Array, Uint8ClampedArray, WeakMap, WeakRef, WeakSet, WebAssembly, WebSocket, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter, __dirname, __filename, arguments, atob, btoa, clearImmediate, clearInterval, clearTimeout, console, crypto, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, eval, expect, exports, fetch, global, globalThis, isFinite, isNaN, jest, module, navigator, parseFloat, parseInt, performance, process, queueMicrotask, require, setImmediate, setInterval, setTimeout, structuredClone, undefined, unescape.\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` (case insensitive) are permitted.\n\n      130 | export const mockThemeProvider = () => {\n      131 |   jest.mock('@/components/ThemeProvider', () => ({\n    > 132 |     useThemeContext: () => createMockThemeContext(true),\n          |                            ^^^^^^^^^^^^^^^^^^^^^^\n      133 |     ThemeProvider: ({ children }: any) => children,\n      134 |     ThemedText: ({ children, variant, testID }: any) => (\n      135 |       <span data-testid={testID || `themed-text-${variant || 'primary'}`}>\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render, fireEvent, waitFor } from '@/test/test-utils';\n         | ^\n       8 | import { GPSTracker } from '../GPSComponents';\n       9 | import * as useGPSTracking from '@/hooks/useGPSTracking';\n      10 |\n\n      at File.buildCodeFrameError (node_modules/@babel/core/src/transformation/file/file.ts:256:12)\n      at NodePath.buildError [as buildCodeFrameError] (node_modules/@babel/traverse/src/path/index.ts:142:21)\n      at call (node_modules/@babel/traverse/src/visitors.ts:303:14)\n      at NodePath.call [as _call] (node_modules/@babel/traverse/src/path/context.ts:36:20)\n      at NodePath.call (node_modules/@babel/traverse/src/path/context.ts:21:18)\n      at NodePath.call [as visit] (node_modules/@babel/traverse/src/path/context.ts:97:31)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at traverse (node_modules/@babel/traverse/src/index.ts:83:15)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:119:15)\n          at transformFile.next (<anonymous>)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:49:12)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (src/components/gps/__tests__/GPSComponents.test.tsx:7:1)\n\nFAIL src/components/workforce/__tests__/WorkerProfile3D.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n      1 | import React from 'react';\n    > 2 | import { render } from '@testing-library/react-native';\n        | ^\n      3 | import { WorkerProfile3D, WorkerProfile } from '../WorkerProfile3D';\n      4 |\n      5 | jest.mock('@react-three/fiber/native', () => ({\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/workforce/__tests__/WorkerProfile3D.test.tsx:2:1)\n\nPASS src/services/__tests__/supplyChain.test.ts\n  SupplyChainService\n    Singleton Pattern\n      ✓ should return the same instance when called multiple times (1 ms)\n    Data Operations\n      ✓ should return all supply chain items (2 ms)\n      ✓ should filter supply chain items by gold lot ID\n      ✓ should return empty array for non-existent gold lot ID (1 ms)\n      ✓ should find extraction point for valid gold lot ID\n      ✓ should return null for extraction point when gold lot has no extraction stage\n    Supply Chain Trail\n      ✓ should generate complete supply chain trail (1 ms)\n      ✓ should sort trail items by timestamp (1 ms)\n      ✓ should calculate completion percentage correctly\n    Filtering\n      ✓ should filter by status correctly (1 ms)\n      ✓ should filter by search query correctly\n      ✓ should apply both status and search filters (1 ms)\n    Map Region Generation\n      ✓ should generate close zoom map region\n      ✓ should generate medium zoom map region by default\n      ✓ should generate far zoom map region (1 ms)\n    Coordinate Extraction\n      ✓ should extract coordinates for supply chain trail\n      ✓ should return empty array for non-existent gold lot (1 ms)\n    Verification Operations\n      ✓ should verify supply chain item successfully\n      ✓ should fail verification for non-existent item (1002 ms)\n      ✓ should validate cryptographic proof (2003 ms)\n    Compliance Score Calculation\n      ✓ should calculate compliance score correctly (1 ms)\n      ✓ should penalize poor GPS accuracy\n    Formatting Utilities\n      ✓ should format coordinates correctly (1 ms)\n      ✓ should format weight correctly\n      ✓ should format price correctly (41 ms)\n      ✓ should format timestamp correctly (6 ms)\n    Color and Icon Utilities\n      ✓ should return correct status colors (1 ms)\n      ✓ should return correct stage colors\n      ✓ should return correct stage icons\n\nPASS src/test/security/SecurityTest.test.ts (40.909 s)\n  Security Testing Suite\n    Security Auditor\n      ✓ should perform comprehensive security audit (2 ms)\n      ✓ should detect authentication vulnerabilities\n      ✓ should detect authorization vulnerabilities (1 ms)\n      ✓ should detect data protection vulnerabilities\n      ✓ should detect cryptographic vulnerabilities (1 ms)\n      ✓ should detect input validation vulnerabilities (1 ms)\n      ✓ should generate meaningful security recommendations\n      ✓ should assess compliance frameworks (2 ms)\n      ✓ should generate comprehensive security report (5 ms)\n    Penetration Tester\n      ✓ should run comprehensive penetration testing suite (2904 ms)\n      ✓ should run authentication security tests (2900 ms)\n      ✓ should run authorization security tests (2902 ms)\n      ✓ should run injection attack tests (2902 ms)\n      ✓ should run cryptographic security tests (2898 ms)\n      ✓ should run session management tests (2901 ms)\n      ✓ should run API security tests (3115 ms)\n      ✓ should calculate accurate suite summaries (2916 ms)\n      ✓ should generate comprehensive penetration testing report (2904 ms)\n      ✓ should detect vulnerable components (2896 ms)\n    Integration Security Tests\n      ✓ should identify critical security gaps (2900 ms)\n      ✓ should provide consistent security scores (2890 ms)\n      ✓ should cover all major security categories (2901 ms)\n      ✓ should maintain acceptable security standards for production (2902 ms)\n\nPASS src/test/uat/UATTestSuite.test.ts (44.971 s)\n  Security Testing Suite\n    Security Auditor\n      ✓ should perform comprehensive security audit (4 ms)\n      ✓ should detect authentication vulnerabilities (1 ms)\n      ✓ should detect authorization vulnerabilities\n      ✓ should detect data protection vulnerabilities\n      ✓ should detect cryptographic vulnerabilities (1 ms)\n      ✓ should detect input validation vulnerabilities\n      ✓ should generate meaningful security recommendations\n      ✓ should assess compliance frameworks (1 ms)\n      ✓ should generate comprehensive security report\n    Penetration Tester\n      ✓ should run comprehensive penetration testing suite (2904 ms)\n      ✓ should run authentication security tests (2900 ms)\n      ✓ should run authorization security tests (2894 ms)\n      ✓ should run injection attack tests (2896 ms)\n      ✓ should run cryptographic security tests (2898 ms)\n      ✓ should run session management tests (2899 ms)\n      ✓ should run API security tests (2917 ms)\n      ✓ should calculate accurate suite summaries (2943 ms)\n      ✓ should generate comprehensive penetration testing report (2907 ms)\n      ✓ should detect vulnerable components (2898 ms)\n    Integration Security Tests\n      ✓ should identify critical security gaps (2896 ms)\n      ✓ should provide consistent security scores (2894 ms)\n      ✓ should cover all major security categories (2904 ms)\n      ✓ should maintain acceptable security standards for production (2893 ms)\n  Deployment Readiness Tests\n    Configuration Validation\n      ✓ should have all required environment files (1 ms)\n      ✓ should have valid Docker configuration (1 ms)\n      ✓ should have Kubernetes manifests (1 ms)\n      ✓ should have deployment scripts\n      ✓ should have GitHub Actions workflow (1 ms)\n    Application Health Checks\n      ✓ should have health check endpoints\n      ✓ should validate database connectivity (1 ms)\n      ✓ should validate Redis connectivity\n      ✓ should validate external API connectivity\n    Security Deployment Checks\n      ✓ should not have hardcoded secrets\n      ✓ should have proper HTTPS configuration\n      ✓ should have security headers configured (1 ms)\n      ✓ should have proper container security configuration\n    Performance Deployment Checks\n      ✓ should have resource limits configured (1 ms)\n      ✓ should have horizontal pod autoscaler configured\n      ✓ should have caching configuration\n    Monitoring and Observability\n      ✓ should have monitoring services configured (1 ms)\n      ✓ should have logging configuration (1 ms)\n      ✓ should have health check configuration\n    Backup and Disaster Recovery\n      ✓ should have backup configuration (1 ms)\n      ✓ should have disaster recovery procedures documented\n    Ghana-specific Configuration\n      ✓ should have Ghana regulatory compliance configured (1 ms)\n      ✓ should have mobile money integration configured\n      ✓ should have proper localization settings\n    Rollback Capability\n      ✓ should have rollback procedures in CI/CD (2 ms)\n      ✓ should maintain multiple deployment versions (1 ms)\n    Load Testing Readiness\n      ✓ should have load testing configuration (1 ms)\n      ✓ should have performance benchmarks defined (1 ms)\n    Mobile App Store Readiness\n      ✓ should have app store configuration (1 ms)\n      ✓ should have update mechanism configured\n  User Acceptance Testing Suite\n    Critical UAT Scenarios\n      ✓ should pass Gold Discovery Registration Flow (508 ms)\n      ✓ should pass Cross-App Trading Workflow (506 ms)\n      ✓ should pass Mobile Money Payment Integration (305 ms)\n    User Experience Validation\n      ✓ should provide intuitive user workflows (2 ms)\n      ✓ should handle edge cases gracefully (3 ms)\n      ✓ should support accessibility requirements (1 ms)\n    Performance Under Load\n      ✓ should maintain performance with multiple concurrent users (1 ms)\n      ✓ should handle peak usage scenarios (1 ms)\n    Data Accuracy and Integrity\n      ✓ should maintain data consistency across apps\n      ✓ should ensure GPS location accuracy (1 ms)\n      ✓ should validate all business calculations\n    Security and Compliance Validation\n      ✓ should meet security requirements (2898 ms)\n      ✓ should comply with Ghana regulations (1 ms)\n    Deployment Readiness\n      ✓ should be ready for production deployment (1 ms)\n      ✓ should have monitoring and alerting configured (1 ms)\n    User Documentation and Training\n      ✓ should have comprehensive user documentation (1 ms)\n      ✓ should provide effective user onboarding\n\nSummary of all failing tests\nFAIL src/services/__tests__/location.test.ts\n  ● Location Service › requestLocationPermissions › should return true when permission is granted\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      12 |   describe('requestLocationPermissions', () => {\n      13 |     it('should return true when permission is granted', async () => {\n    > 14 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      15 |         createMockLocationPermission(true)\n      16 |       );\n      17 |\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:14:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › requestLocationPermissions › should return false when permission is denied\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      23 |\n      24 |     it('should return false when permission is denied', async () => {\n    > 25 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      26 |         createMockLocationPermission(false)\n      27 |       );\n      28 |\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:25:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › getCurrentLocation › should return location data when permission is granted\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      45 |   describe('getCurrentLocation', () => {\n      46 |     it('should return location data when permission is granted', async () => {\n    > 47 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      48 |         createMockLocationPermission(true)\n      49 |       );\n      50 |       mockLocation.getCurrentPositionAsync.mockResolvedValue(\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:47:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › getCurrentLocation › should return null when permission is denied\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      62 |\n      63 |     it('should return null when permission is denied', async () => {\n    > 64 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      65 |         createMockLocationPermission(false)\n      66 |       );\n      67 |\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:64:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › getCurrentLocation › should handle location fetch errors\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      73 |\n      74 |     it('should handle location fetch errors', async () => {\n    > 75 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      76 |         createMockLocationPermission(true)\n      77 |       );\n      78 |       mockLocation.getCurrentPositionAsync.mockRejectedValue(\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:75:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › getCurrentLocation › should use high accuracy for location requests\n\n    ReferenceError: createMockLocationPermission is not defined\n\n      86 |\n      87 |     it('should use high accuracy for location requests', async () => {\n    > 88 |       mockLocation.requestForegroundPermissionsAsync.mockResolvedValue(\n         |                                                      ^\n      89 |         createMockLocationPermission(true)\n      90 |       );\n      91 |       mockLocation.getCurrentPositionAsync.mockResolvedValue(\n\n      at Object.mockResolvedValue (src/services/__tests__/location.test.ts:88:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › watchLocation › should set up location watching with correct parameters\n\n    TypeError: Cannot read properties of undefined (reading 'BestForNavigation')\n\n      288 |   return Location.watchPositionAsync(\n      289 |     {\n    > 290 |       accuracy: Location.Accuracy.BestForNavigation,\n          |                                   ^\n      291 |       timeInterval: 500, // 500ms for military precision\n      292 |       distanceInterval: 0.1, // 10cm precision\n      293 |     },\n\n      at BestForNavigation (src/services/location.ts:290:35)\n      at Object.<anonymous> (src/services/__tests__/location.test.ts:110:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › watchLocation › should call callback with transformed location data\n\n    TypeError: Cannot read properties of undefined (reading 'BestForNavigation')\n\n      288 |   return Location.watchPositionAsync(\n      289 |     {\n    > 290 |       accuracy: Location.Accuracy.BestForNavigation,\n          |                                   ^\n      291 |       timeInterval: 500, // 500ms for military precision\n      292 |       distanceInterval: 0.1, // 10cm precision\n      293 |     },\n\n      at BestForNavigation (src/services/location.ts:290:35)\n      at Object.<anonymous> (src/services/__tests__/location.test.ts:133:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › watchLocation › should handle missing accuracy gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'BestForNavigation')\n\n      288 |   return Location.watchPositionAsync(\n      289 |     {\n    > 290 |       accuracy: Location.Accuracy.BestForNavigation,\n          |                                   ^\n      291 |       timeInterval: 500, // 500ms for military precision\n      292 |       distanceInterval: 0.1, // 10cm precision\n      293 |     },\n\n      at BestForNavigation (src/services/location.ts:290:35)\n      at Object.<anonymous> (src/services/__tests__/location.test.ts:159:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Location Service › Location Data Validation › should validate GPS coordinates\n\n    TypeError: expect(...).toBeValidGPSCoordinate is not a function\n\n      170 |     it('should validate GPS coordinates', () => {\n      171 |       // Valid coordinates\n    > 172 |       expect(37.7749).toBeValidGPSCoordinate('latitude');\n          |                       ^\n      173 |       expect(-122.4194).toBeValidGPSCoordinate('longitude');\n      174 |       \n      175 |       // Invalid coordinates\n\n      at Object.toBeValidGPSCoordinate (src/services/__tests__/location.test.ts:172:23)\n\n  ● Location Service › Location Data Validation › should calculate distance between coordinates\n\n    TypeError: expect(...).toBeWithinDistance is not a function\n\n      188 |       \n      189 |       // These cities are about 13km apart\n    > 190 |       expect(sanFrancisco).toBeWithinDistance(oakland, 15000); // 15km tolerance\n          |                            ^\n      191 |       \n      192 |       expect(() => {\n      193 |         expect(sanFrancisco).toBeWithinDistance(oakland, 5000); // 5km - should fail\n\n      at Object.toBeWithinDistance (src/services/__tests__/location.test.ts:190:28)\n\nFAIL src/services/__tests__/offline.test.ts\n  ● Offline Service › initializeOfflineService › should process offline queue when connection is restored\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n      43 |       initializeOfflineService();\n      44 |\n    > 45 |       expect(processSpy).toHaveBeenCalled();\n         |                          ^\n      46 |     });\n      47 |\n      48 |     it('should not process queue when offline', () => {\n\n      at Object.toHaveBeenCalled (src/services/__tests__/offline.test.ts:45:26)\n\n  ● Offline Service › addToOfflineQueue › should handle storage errors gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Error adding to offline queue:\", Any<Error>\n    Received: \"Error getting offline queue:\", [Error: Storage error]\n\n    Number of calls: 1\n\n      159 |       await expect(addToOfflineQueue(newData)).resolves.not.toThrow();\n      160 |\n    > 161 |       expect(consoleSpy).toHaveBeenCalledWith('Error adding to offline queue:', expect.any(Error));\n          |                          ^\n      162 |       consoleSpy.mockRestore();\n      163 |     });\n      164 |   });\n\n      at Object.toHaveBeenCalledWith (src/services/__tests__/offline.test.ts:161:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Offline Service › processOfflineQueue › should handle queue processing errors gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Error processing offline queue:\", Any<Error>\n    Received: \"Error getting offline queue:\", [Error: Queue error]\n\n    Number of calls: 1\n\n      283 |       await expect(processOfflineQueue()).resolves.not.toThrow();\n      284 |\n    > 285 |       expect(consoleSpy).toHaveBeenCalledWith('Error processing offline queue:', expect.any(Error));\n          |                          ^\n      286 |       consoleSpy.mockRestore();\n      287 |     });\n      288 |   });\n\n      at Object.toHaveBeenCalledWith (src/services/__tests__/offline.test.ts:285:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Offline Service › Integration Tests › should handle network state changes correctly\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n      336 |       // Simulate coming online - should process queue\n      337 |       networkCallback({ isConnected: true, type: 'wifi' } as any);\n    > 338 |       expect(processSpy).toHaveBeenCalledTimes(1);\n          |                          ^\n      339 |\n      340 |       processSpy.mockRestore();\n      341 |     });\n\n      at Object.toHaveBeenCalledTimes (src/services/__tests__/offline.test.ts:338:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/components/__tests__/ErrorBoundary.test.tsx\n  ● ErrorBoundary › Component Rendering › should render children when no error occurs\n\n    TypeError: Cannot read properties of undefined (reading 'hasError')\n\n      40 |       \n      41 |       const errorBoundary = new (ErrorBoundary as any)({});\n    > 42 |       expect(errorBoundary.state.hasError).toBe(false);\n         |                                  ^\n      43 |     });\n      44 |\n      45 |     test('should have proper initial state', () => {\n\n      at Object.hasError (src/components/__tests__/ErrorBoundary.test.tsx:42:34)\n\n  ● ErrorBoundary › Component Rendering › should have proper initial state\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: {\"error\": null, \"errorId\": null, \"errorInfo\": null, \"hasError\": false, \"isRecovering\": false, \"recoveryAttempts\": 0}\n    Received: undefined\n\n      46 |       const errorBoundary = new (ErrorBoundary as any)({});\n      47 |       \n    > 48 |       expect(errorBoundary.state).toEqual({\n         |                                   ^\n      49 |         hasError: false,\n      50 |         error: null,\n      51 |         errorInfo: null,\n\n      at Object.toEqual (src/components/__tests__/ErrorBoundary.test.tsx:48:35)\n\n  ● ErrorBoundary › Component Rendering › should update state when error occurs\n\n    TypeError: _ErrorBoundary.ErrorBoundary.getDerivedStateFromError is not a function\n\n      58 |     test('should update state when error occurs', () => {\n      59 |       const testError = new Error('Test error');\n    > 60 |       const derivedState = (ErrorBoundary as any).getDerivedStateFromError(testError);\n         |                                                   ^\n      61 |       \n      62 |       expect(derivedState).toEqual({\n      63 |         hasError: true,\n\n      at Object.getDerivedStateFromError (src/components/__tests__/ErrorBoundary.test.tsx:60:51)\n\n  ● ErrorBoundary › Error Handling › should call centralized error handler when error occurs\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      85 |       const errorInfo = { componentStack: 'Test stack' };\n      86 |\n    > 87 |       await errorBoundary.componentDidCatch(testError, errorInfo);\n         |                           ^\n      88 |\n      89 |       expect(errorHandlerSpy).toHaveBeenCalledWith(\n      90 |         testError,\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:87:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Error Handling › should set different severity for app-level errors\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      112 |       const errorInfo = { componentStack: 'App stack' };\n      113 |\n    > 114 |       await errorBoundary.componentDidCatch(testError, errorInfo);\n          |                           ^\n      115 |\n      116 |       expect(errorHandlerSpy).toHaveBeenCalledWith(\n      117 |         testError,\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:114:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Error Handling › should call custom error handler if provided\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      128 |       const errorInfo = { componentStack: 'Custom stack' };\n      129 |\n    > 130 |       await errorBoundary.componentDidCatch(testError, errorInfo);\n          |                           ^\n      131 |\n      132 |       expect(customErrorHandler).toHaveBeenCalledWith(testError, errorInfo);\n      133 |     });\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:130:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Recovery Mechanism › should handle successful recovery\n\n    Property `setState` does not exist in the provided object\n\n      146 |       };\n      147 |\n    > 148 |       const setStateSpy = jest.spyOn(errorBoundary, 'setState');\n          |                                ^\n      149 |\n      150 |       await errorBoundary.handleRecovery();\n      151 |\n\n      at ModuleMocker.spyOn (node_modules/jest-mock/build/index.js:731:13)\n      at Object.spyOn (src/components/__tests__/ErrorBoundary.test.tsx:148:32)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Recovery Mechanism › should limit recovery attempts\n\n    TypeError: errorBoundary.handleRecovery is not a function\n\n      166 |       global.Alert = { alert: alertSpy } as any;\n      167 |\n    > 168 |       await errorBoundary.handleRecovery();\n          |                           ^\n      169 |\n      170 |       expect(alertSpy).toHaveBeenCalledWith(\n      171 |         'Recovery Failed',\n\n      at Object.handleRecovery (src/components/__tests__/ErrorBoundary.test.tsx:168:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Recovery Mechanism › should handle recovery errors\n\n    Property `setState` does not exist in the provided object\n\n      183 |\n      184 |       // Mock setState to throw error\n    > 185 |       jest.spyOn(errorBoundary, 'setState').mockImplementation(() => {\n          |            ^\n      186 |         throw new Error('Recovery failed');\n      187 |       });\n      188 |\n\n      at ModuleMocker.spyOn (node_modules/jest-mock/build/index.js:731:13)\n      at Object.spyOn (src/components/__tests__/ErrorBoundary.test.tsx:185:12)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Error Reporting › should generate error report\n\n    TypeError: errorBoundary.handleReportError is not a function\n\n      208 |       global.Alert = { alert: alertSpy } as any;\n      209 |\n    > 210 |       await errorBoundary.handleReportError();\n          |                           ^\n      211 |\n      212 |       expect(exportSpy).toHaveBeenCalled();\n      213 |       expect(alertSpy).toHaveBeenCalledWith(\n\n      at Object.handleReportError (src/components/__tests__/ErrorBoundary.test.tsx:210:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● ErrorBoundary › Error Reporting › should handle error report failures\n\n    TypeError: errorBoundary.handleReportError is not a function\n\n      226 |       global.Alert = { alert: alertSpy } as any;\n      227 |\n    > 228 |       await errorBoundary.handleReportError();\n          |                           ^\n      229 |\n      230 |       expect(alertSpy).toHaveBeenCalledWith(\n      231 |         'Error',\n\n      at Object.handleReportError (src/components/__tests__/ErrorBoundary.test.tsx:228:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● withErrorBoundary HOC › should wrap component with error boundary\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"withErrorBoundary(TestComponent)\"\n    Received: undefined\n\n      240 |     const WrappedComponent = withErrorBoundary(TestComponent);\n      241 |     \n    > 242 |     expect(WrappedComponent.displayName).toBe('withErrorBoundary(TestComponent)');\n          |                                          ^\n      243 |   });\n      244 |\n      245 |   test('should pass props through to wrapped component', () => {\n\n      at Object.toBe (src/components/__tests__/ErrorBoundary.test.tsx:242:42)\n\n  ● useErrorHandler Hook › should bind error handler methods correctly\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: [Function bound handleError]\n    Received: [Function mockConstructor]\n\n      279 |     \n      280 |     // Verify functions are bound to the singleton instance\n    > 281 |     expect(errorHandlerHook.handleError).toBe(errorHandler.handleError.bind(errorHandler));\n          |                                          ^\n      282 |     expect(errorHandlerHook.handleNetworkError).toBe(errorHandler.handleNetworkError.bind(errorHandler));\n      283 |   });\n      284 | });\n\n      at Object.toBe (src/components/__tests__/ErrorBoundary.test.tsx:281:42)\n\n  ● Error Boundary Integration › should work with different error levels\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      294 |       const errorHandlerSpy = jest.spyOn(errorHandler, 'handleError').mockResolvedValue({} as any);\n      295 |       \n    > 296 |       await errorBoundary.componentDidCatch(testError, { componentStack: '' });\n          |                           ^\n      297 |       \n      298 |       const expectedSeverity = level === 'app' ? ErrorSeverity.CRITICAL : ErrorSeverity.HIGH;\n      299 |       expect(errorHandlerSpy).toHaveBeenCalledWith(\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:296:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Error Boundary Integration › should provide context information\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      321 |     const errorHandlerSpy = jest.spyOn(errorHandler, 'handleError').mockResolvedValue({} as any);\n      322 |     \n    > 323 |     await errorBoundary.componentDidCatch(testError, errorInfo);\n          |                         ^\n      324 |     \n      325 |     expect(errorHandlerSpy).toHaveBeenCalledWith(\n      326 |       testError,\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:323:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Error Boundary Performance › should handle multiple errors efficiently\n\n    TypeError: errorBoundary.componentDidCatch is not a function\n\n      348 |     for (let i = 0; i < 10; i++) {\n      349 |       const testError = new Error(`Error ${i}`);\n    > 350 |       await errorBoundary.componentDidCatch(testError, { componentStack: `Stack ${i}` });\n          |                           ^\n      351 |     }\n      352 |     \n      353 |     const end = performance.now();\n\n      at Object.componentDidCatch (src/components/__tests__/ErrorBoundary.test.tsx:350:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Error Boundary Performance › should not cause memory leaks during recovery\n\n    TypeError: errorBoundary.handleRecovery is not a function\n\n      363 |     for (let i = 0; i < 5; i++) {\n      364 |       errorBoundary.state = { recoveryAttempts: i };\n    > 365 |       await errorBoundary.handleRecovery();\n          |                           ^\n      366 |     }\n      367 |     \n      368 |     // In a real environment, we'd check for memory leaks\n\n      at Object.handleRecovery (src/components/__tests__/ErrorBoundary.test.tsx:365:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/test/gps.test.ts\n  ● Military-Grade GPS Service › Multi-GNSS Support › should support multiple GNSS systems\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      19 |   describe('Multi-GNSS Support', () => {\n      20 |     it('should support multiple GNSS systems', async () => {\n    > 21 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n         |                                                  ^\n      22 |\n      23 |       expect(locationData).toBeDefined();\n      24 |       expect(locationData.gnssSystems).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:21:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Multi-GNSS Support › should provide satellite count for each system\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      31 |\n      32 |     it('should provide satellite count for each system', async () => {\n    > 33 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n         |                                                  ^\n      34 |\n      35 |       expect(locationData.satelliteCount).toBeDefined();\n      36 |       expect(locationData.satelliteCount.total).toBeGreaterThan(0);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:33:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Multi-GNSS Support › should calculate signal strength for each system\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      42 |\n      43 |     it('should calculate signal strength for each system', async () => {\n    > 44 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n         |                                                  ^\n      45 |\n      46 |       expect(locationData.signalStrength).toBeDefined();\n      47 |       expect(locationData.signalStrength.average).toBeGreaterThan(0);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:44:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Advanced Filtering › should apply Kalman filter to location data\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      62 |       };\n      63 |\n    > 64 |       const filteredLocation = gpsFilter.filterLocation(rawLocation);\n         |                                          ^\n      65 |\n      66 |       expect(filteredLocation).toBeDefined();\n      67 |       expect(filteredLocation.latitude).toBeDefined();\n\n      at Object.filterLocation (src/test/gps.test.ts:64:42)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Advanced Filtering › should improve location accuracy through filtering\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      80 |       };\n      81 |\n    > 82 |       const filteredLocation = gpsFilter.filterLocation(rawLocation);\n         |                                          ^\n      83 |\n      84 |       expect(filteredLocation.accuracy).toBeLessThanOrEqual(rawLocation.accuracy);\n      85 |       expect(filteredLocation.confidence).toBeGreaterThan(0.7);\n\n      at Object.filterLocation (src/test/gps.test.ts:82:42)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Advanced Filtering › should maintain location history for analysis\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      94 |\n      95 |       locations.forEach(location => {\n    > 96 |         gpsFilter.filterLocation(location);\n         |                   ^\n      97 |       });\n      98 |\n      99 |       const history = gpsFilter.getLocationHistory();\n\n      at filterLocation (src/test/gps.test.ts:96:19)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (src/test/gps.test.ts:95:17)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Threat Detection › should detect GPS jamming attempts\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      104 |   describe('Threat Detection', () => {\n      105 |     it('should detect GPS jamming attempts', async () => {\n    > 106 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      107 |\n      108 |       expect(locationData.threatDetection).toBeDefined();\n      109 |       expect(locationData.threatDetection.jamming).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:106:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Threat Detection › should detect GPS spoofing attempts\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      114 |\n      115 |     it('should detect GPS spoofing attempts', async () => {\n    > 116 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      117 |\n      118 |       expect(locationData.threatDetection.spoofing).toBeDefined();\n      119 |       expect(locationData.threatDetection.spoofing.detected).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:116:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Threat Detection › should provide threat mitigation recommendations\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      123 |\n      124 |     it('should provide threat mitigation recommendations', async () => {\n    > 125 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      126 |\n      127 |       expect(locationData.threatDetection.recommendations).toBeDefined();\n      128 |       expect(locationData.threatDetection.recommendations).toBeInstanceOf(Array);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:125:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Nanosecond Precision › should provide nanosecond precision timestamps\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      140 |   describe('Nanosecond Precision', () => {\n      141 |     it('should provide nanosecond precision timestamps', async () => {\n    > 142 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      143 |\n      144 |       expect(locationData.timestamp).toBeDefined();\n      145 |       expect(locationData.timestampPrecision).toBe('nanosecond');\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:142:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Nanosecond Precision › should maintain timestamp consistency across operations\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      148 |\n      149 |     it('should maintain timestamp consistency across operations', async () => {\n    > 150 |       const location1 = await locationService.getMilitaryGradeCurrentLocation();\n          |                                               ^\n      151 |       const location2 = await locationService.getMilitaryGradeCurrentLocation();\n      152 |\n      153 |       expect(location1.timestampValue).toBeLessThan(location2.timestampValue);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:150:47)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Environmental Monitoring › should assess atmospheric conditions\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      158 |   describe('Environmental Monitoring', () => {\n      159 |     it('should assess atmospheric conditions', async () => {\n    > 160 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      161 |\n      162 |       expect(locationData.environmentalConditions).toBeDefined();\n      163 |       expect(locationData.environmentalConditions.atmospheric).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:160:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Environmental Monitoring › should detect multipath interference\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      168 |\n      169 |     it('should detect multipath interference', async () => {\n    > 170 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      171 |\n      172 |       expect(locationData.environmentalConditions.multipath).toBeDefined();\n      173 |       expect(locationData.environmentalConditions.multipath.detected).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:170:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Environmental Monitoring › should provide environmental impact assessment\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      177 |\n      178 |     it('should provide environmental impact assessment', async () => {\n    > 179 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      180 |\n      181 |       expect(locationData.environmentalConditions.impact).toBeDefined();\n      182 |       expect(locationData.environmentalConditions.impact.accuracy).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:179:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Confidence Scoring › should calculate location confidence level\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      188 |   describe('Confidence Scoring', () => {\n      189 |     it('should calculate location confidence level', async () => {\n    > 190 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      191 |\n      192 |       expect(locationData.confidence).toBeDefined();\n      193 |       expect(locationData.confidence.level).toBeGreaterThan(0);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:190:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Confidence Scoring › should provide confidence breakdown\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      200 |\n      201 |     it('should provide confidence breakdown', async () => {\n    > 202 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      203 |\n      204 |       expect(locationData.confidence.breakdown).toBeDefined();\n      205 |       expect(locationData.confidence.breakdown.gnssQuality).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:202:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Integrity Checks › should perform data integrity validation\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      212 |   describe('Integrity Checks', () => {\n      213 |     it('should perform data integrity validation', async () => {\n    > 214 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      215 |\n      216 |       expect(locationData.integrity).toBeDefined();\n      217 |       expect(locationData.integrity.checksum).toBeDefined();\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:214:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Integrity Checks › should detect data corruption\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      222 |\n      223 |     it('should detect data corruption', async () => {\n    > 224 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      225 |\n      226 |       // Simulate data corruption\n      227 |       const corruptedData = { ...locationData };\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:224:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Historical Analysis › should analyze location patterns\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      244 |\n      245 |       locations.forEach(location => {\n    > 246 |         gpsFilter.filterLocation(location);\n          |                   ^\n      247 |       });\n      248 |\n      249 |       const statistics = gpsFilter.getLocationStatistics();\n\n      at filterLocation (src/test/gps.test.ts:246:19)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (src/test/gps.test.ts:245:17)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Historical Analysis › should detect anomalous location patterns\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      270 |\n      271 |       normalLocations.forEach(location => {\n    > 272 |         gpsFilter.filterLocation(location);\n          |                   ^\n      273 |       });\n      274 |\n      275 |       const anomalyCheck = gpsFilter.detectAnomalies(anomalousLocation);\n\n      at filterLocation (src/test/gps.test.ts:272:19)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (src/test/gps.test.ts:271:23)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Real-time Monitoring › should provide real-time location tracking\n\n    TypeError: Cannot read properties of undefined (reading 'watchMilitaryGradeLocation')\n\n      284 |       const trackingCallback = jest.fn();\n      285 |       \n    > 286 |       await locationService.watchMilitaryGradeLocation(trackingCallback);\n          |                             ^\n      287 |\n      288 |       // Wait for location updates\n      289 |       await new Promise(resolve => setTimeout(resolve, 2000));\n\n      at Object.watchMilitaryGradeLocation (src/test/gps.test.ts:286:29)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Real-time Monitoring › should provide location update frequency control\n\n    TypeError: Cannot read properties of undefined (reading 'watchMilitaryGradeLocation')\n\n      302 |       const trackingCallback = jest.fn();\n      303 |       \n    > 304 |       await locationService.watchMilitaryGradeLocation(trackingCallback, {\n          |                             ^\n      305 |         interval: 500, // 500ms interval\n      306 |         distanceFilter: 0.1 // 0.1m distance filter\n      307 |       });\n\n      at Object.watchMilitaryGradeLocation (src/test/gps.test.ts:304:29)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Offline Capability › should store location data locally\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      316 |   describe('Offline Capability', () => {\n      317 |     it('should store location data locally', async () => {\n    > 318 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      319 |\n      320 |       // Store location locally\n      321 |       await locationService.storeLocationLocally(locationData);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:318:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Offline Capability › should sync location data when online\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      329 |\n      330 |     it('should sync location data when online', async () => {\n    > 331 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      332 |\n      333 |       // Store location locally\n      334 |       await locationService.storeLocationLocally(locationData);\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:331:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Performance Testing › should complete location acquisition within reasonable time\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      345 |       const startTime = Date.now();\n      346 |       \n    > 347 |       await locationService.getMilitaryGradeCurrentLocation();\n          |                             ^\n      348 |       \n      349 |       const endTime = Date.now();\n      350 |       const duration = endTime - startTime;\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:347:29)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Performance Testing › should handle multiple concurrent location requests\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      355 |     it('should handle multiple concurrent location requests', async () => {\n      356 |       const promises = Array.from({ length: 5 }, () =>\n    > 357 |         locationService.getMilitaryGradeCurrentLocation()\n          |                         ^\n      358 |       );\n      359 |\n      360 |       const results = await Promise.all(promises);\n\n      at getMilitaryGradeCurrentLocation (src/test/gps.test.ts:357:25)\n          at Function.from (<anonymous>)\n      at Object.from (src/test/gps.test.ts:356:30)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Error Handling › should handle location permission denial gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'requestMilitaryGradeLocationPermissions')\n\n      378 |\n      379 |       await expect(\n    > 380 |         locationService.requestMilitaryGradeLocationPermissions()\n          |                         ^\n      381 |       ).rejects.toThrow('Location permission denied');\n      382 |     });\n      383 |\n\n      at Object.requestMilitaryGradeLocationPermissions (src/test/gps.test.ts:380:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Error Handling › should handle GPS signal loss gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      389 |\n      390 |       await expect(\n    > 391 |         locationService.getMilitaryGradeCurrentLocation()\n          |                         ^\n      392 |       ).rejects.toThrow('GPS signal lost');\n      393 |     });\n      394 |\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:391:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Error Handling › should provide fallback location when GPS unavailable\n\n    TypeError: Cannot read properties of undefined (reading 'getFallbackLocation')\n\n      399 |       );\n      400 |\n    > 401 |       const fallbackLocation = await locationService.getFallbackLocation();\n          |                                                      ^\n      402 |       expect(fallbackLocation).toBeDefined();\n      403 |       expect(fallbackLocation.latitude).toBeDefined();\n      404 |       expect(fallbackLocation.longitude).toBeDefined();\n\n      at Object.getFallbackLocation (src/test/gps.test.ts:401:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Accuracy Validation › should validate location accuracy requirements\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      409 |   describe('Accuracy Validation', () => {\n      410 |     it('should validate location accuracy requirements', async () => {\n    > 411 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      412 |\n      413 |       expect(locationData.accuracy).toBeLessThanOrEqual(10); // Should be accurate within 10m\n      414 |       expect(locationData.confidence.level).toBeGreaterThan(0.8); // Should have high confidence\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:411:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade GPS Service › Accuracy Validation › should provide accuracy improvement recommendations\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      416 |\n      417 |     it('should provide accuracy improvement recommendations', async () => {\n    > 418 |       const locationData = await locationService.getMilitaryGradeCurrentLocation();\n          |                                                  ^\n      419 |\n      420 |       if (locationData.accuracy > 5) {\n      421 |         expect(locationData.recommendations).toContain('Move to open area');\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/gps.test.ts:418:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/test/cryptography.test.ts\n  ● Military-Grade Cryptography Service › Quantum-Resistant Hashing › should generate quantum-resistant hash with entropy\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      34 |\n      35 |       expect(hash).toBeDefined();\n    > 36 |       expect(hash.hash).toBeDefined();\n         |                         ^\n      37 |       expect(hash.entropyQuality).toBeGreaterThan(0.8);\n      38 |       expect(hash.rounds).toBeGreaterThan(3);\n      39 |       expect(hash.timestamp).toBeDefined();\n\n      at Object.toBeDefined (src/test/cryptography.test.ts:36:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Quantum-Resistant Hashing › should generate unique hashes for different data\n\n    expect(received).not.toBe(expected) // Object.is equality\n\n    Expected: not undefined\n\n      47 |       const hash2 = await cryptoService.generateQuantumResistantHash(data2);\n      48 |\n    > 49 |       expect(hash1.hash).not.toBe(hash2.hash);\n         |                              ^\n      50 |       expect(hash1.hash.length).toBeGreaterThan(128);\n      51 |     });\n      52 |\n\n      at Object.toBe (src/test/cryptography.test.ts:49:30)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Multi-Signature Support › should generate dual signatures (Ed25519 + Secp256k1)\n\n    Military-grade identity required\n\n      122 |     try {\n      123 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 124 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      125 |\n      126 |       const dataHash = sha256(data);\n      127 |       \n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:124:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Multi-Signature Support › should verify both signatures correctly\n\n    Military-grade identity required\n\n      122 |     try {\n      123 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 124 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      125 |\n      126 |       const dataHash = sha256(data);\n      127 |       \n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:124:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Multi-Signature Support › should detect tampered signatures\n\n    Military-grade identity required\n\n      122 |     try {\n      123 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 124 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      125 |\n      126 |       const dataHash = sha256(data);\n      127 |       \n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:124:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Identity › should generate military-grade identity with multiple key pairs\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      138 |\n      139 |       expect(identity).toBeDefined();\n    > 140 |       expect(identity.identityId).toBeDefined();\n          |                                   ^\n      141 |       expect(identity.keyPairs.ed25519).toBeDefined();\n      142 |       expect(identity.keyPairs.secp256k1).toBeDefined();\n      143 |       expect(identity.quantumResistantHash).toBeDefined();\n\n      at Object.toBeDefined (src/test/cryptography.test.ts:140:35)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Identity › should store identity securely\n\n    TypeError: cryptoService.getStoredIdentity is not a function\n\n      150 |\n      151 |       // Verify identity is stored securely\n    > 152 |       const storedIdentity = await cryptoService.getStoredIdentity('MINER_002');\n          |                                                  ^\n      153 |\n      154 |       expect(storedIdentity).toBeDefined();\n      155 |       expect(storedIdentity.identityId).toBe(identity.identityId);\n\n      at Object.getStoredIdentity (src/test/cryptography.test.ts:152:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Identity › should generate unique identities for different users\n\n    expect(received).not.toBe(expected) // Object.is equality\n\n    Expected: not undefined\n\n      162 |       const identity2 = await cryptoService.initializeMilitaryGradeIdentity('MINER_002');\n      163 |\n    > 164 |       expect(identity1.identityId).not.toBe(identity2.identityId);\n          |                                        ^\n      165 |       expect(identity1.keyPairs.ed25519.publicKey).not.toBe(identity2.keyPairs.ed25519.publicKey);\n      166 |       expect(identity1.keyPairs.secp256k1.publicKey).not.toBe(identity2.keyPairs.secp256k1.publicKey);\n      167 |     });\n\n      at Object.toBe (src/test/cryptography.test.ts:164:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Proof Generation › should generate comprehensive military-grade proof\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Proof Generation › should include nanosecond precision timestamps\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Military-Grade Proof Generation › should calculate entropy quality correctly\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Certificate Generation › should generate military-grade certificates\n\n    Required field 'goldLotData' is missing for template 'gold-origin'\n\n      349 |     for (const field of template.requiredFields) {\n      350 |       if (!this.getNestedValue(data, field)) {\n    > 351 |         throw new Error(`Required field '${field}' is missing for template '${template.id}'`);\n          |               ^\n      352 |       }\n      353 |     }\n      354 |\n\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:351:15)\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:256:12)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at Object.generateMilitaryGradeCertificate (src/test/cryptography.test.ts:242:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Certificate Generation › should validate certificate fields correctly\n\n    Required field 'userRole' is missing for template 'work-site-verification'\n\n      349 |     for (const field of template.requiredFields) {\n      350 |       if (!this.getNestedValue(data, field)) {\n    > 351 |         throw new Error(`Required field '${field}' is missing for template '${template.id}'`);\n          |               ^\n      352 |       }\n      353 |     }\n      354 |\n\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:351:15)\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:256:12)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at Object.generateMilitaryGradeCertificate (src/test/cryptography.test.ts:263:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Certificate Generation › should verify certificate integrity\n\n    Required field 'userRole' is missing for template 'government-inspector'\n\n      349 |     for (const field of template.requiredFields) {\n      350 |       if (!this.getNestedValue(data, field)) {\n    > 351 |         throw new Error(`Required field '${field}' is missing for template '${template.id}'`);\n          |               ^\n      352 |       }\n      353 |     }\n      354 |\n\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:351:15)\n      at MilitaryGradeCertificateGenerator.validateRequiredFields (src/services/certificate-generator.ts:256:12)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at Object.generateMilitaryGradeCertificate (src/test/cryptography.test.ts:282:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Entropy Quality Assessment › should assess entropy quality accurately\n\n    expect(received).toBeGreaterThan(expected)\n\n    Matcher error: received value must be a number or bigint\n\n    Received has value: undefined\n\n      299 |       const entropyData = cryptoService.calculateEntropyQuality();\n      300 |\n    > 301 |       expect(entropyData.quality).toBeGreaterThan(0.7);\n          |                                   ^\n      302 |       expect(entropyData.quality).toBeLessThanOrEqual(1.0);\n      303 |       expect(entropyData.source).toBeDefined();\n      304 |       expect(entropyData.assessment).toBeDefined();\n\n      at Object.toBeGreaterThan (src/test/cryptography.test.ts:301:35)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Entropy Quality Assessment › should provide entropy recommendations\n\n    expect(received).toBeInstanceOf(expected)\n\n    Expected constructor: Array\n\n    Received value has no prototype\n    Received value: undefined\n\n      309 |       const entropyData = cryptoService.calculateEntropyQuality();\n      310 |\n    > 311 |       expect(entropyData.recommendations).toBeInstanceOf(Array);\n          |                                           ^\n      312 |       expect(entropyData.recommendations.length).toBeGreaterThan(0);\n      313 |       \n      314 |       if (entropyData.quality < 0.8) {\n\n      at Object.toBeInstanceOf (src/test/cryptography.test.ts:311:43)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Performance Testing › should handle multiple concurrent operations\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      352 |       expect(results).toHaveLength(10);\n      353 |       results.forEach(result => {\n    > 354 |         expect(result.hash).toBeDefined();\n          |                             ^\n      355 |         expect(result.entropyQuality).toBeGreaterThan(0.7);\n      356 |       });\n      357 |     });\n\n      at toBeDefined (src/test/cryptography.test.ts:354:29)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (src/test/cryptography.test.ts:353:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Error Handling › should handle invalid input data gracefully\n\n    expect(received).rejects.toThrow()\n\n    Received promise resolved instead of rejected\n    Resolved to value: \"a345b405eda39d71e8b79e12f6dd28c1550af8a7674b18bf10ec164df65a2aa639c7b757d8b62ff5997b1db45c0892f9cb50efc6cb263b3347be84a70c80d659\"\n\n      360 |   describe('Error Handling', () => {\n      361 |     it('should handle invalid input data gracefully', async () => {\n    > 362 |       await expect(\n          |             ^\n      363 |         cryptoService.generateQuantumResistantHash(null as any)\n      364 |       ).rejects.toThrow();\n      365 |     });\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.expect (src/test/cryptography.test.ts:362:13)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Military-Grade Cryptography Service › Security Validation › should prevent signature forgery\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Security Validation › should detect tampered data\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Government Compliance › should meet government security standards\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Military-Grade Cryptography Service › Government Compliance › should generate audit trails\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\nFAIL app/__tests__/video-capture.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n    > 1 | import { render } from '@testing-library/react-native';\n        | ^\n      2 |\n      3 | // Simple mocks that don't reference external variables\n      4 | jest.mock('expo-router', () => ({\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (app/__tests__/video-capture.test.tsx:1:1)\n\nFAIL src/test/integration/cross-app-integration.test.ts\n  ● Test suite failed to run\n\n    Cannot find module '../../services/shared-auth' from 'src/test/integration/cross-app-integration.test.ts'\n\n      484 |\n      485 | // Mock SharedAuthService\n    > 486 | jest.mock('../../services/shared-auth', () => ({\n          |                                         ^\n      487 |   SharedAuthService: jest.fn().mockImplementation(() => ({\n      488 |     login: jest.fn().mockResolvedValue(true),\n      489 |     logout: jest.fn().mockResolvedValue(true),\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)\n      at Object.<anonymous> (src/test/integration/cross-app-integration.test.ts:486:41)\n\nFAIL app/__tests__/index.test.tsx\n  ● Test suite failed to run\n\n    ReferenceError: /Users/amanianai/geotag-app/src/test/test-utils.tsx: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variables.\n    Invalid variable access: createMockThemeContext\n    Allowed objects: AbortController, AbortSignal, AggregateError, Array, ArrayBuffer, Atomics, BigInt, BigInt64Array, BigUint64Array, Blob, Boolean, BroadcastChannel, Buffer, ByteLengthQueuingStrategy, CompressionStream, CountQueuingStrategy, Crypto, CryptoKey, CustomEvent, DOMException, DataView, Date, DecompressionStream, Error, EvalError, Event, EventTarget, File, FinalizationRegistry, Float32Array, Float64Array, FormData, Function, Generator, GeneratorFunction, Headers, Infinity, Int16Array, Int32Array, Int8Array, InternalError, Intl, Iterator, JSON, Map, Math, MessageChannel, MessageEvent, MessagePort, NaN, Navigator, Number, Object, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserver, PerformanceObserverEntryList, PerformanceResourceTiming, Promise, Proxy, RangeError, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, ReferenceError, Reflect, RegExp, Request, Response, Set, SharedArrayBuffer, String, SubtleCrypto, Symbol, SyntaxError, TextDecoder, TextDecoderStream, TextEncoder, TextEncoderStream, TransformStream, TransformStreamDefaultController, TypeError, URIError, URL, URLSearchParams, Uint16Array, Uint32Array, Uint8Array, Uint8ClampedArray, WeakMap, WeakRef, WeakSet, WebAssembly, WebSocket, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter, __dirname, __filename, arguments, atob, btoa, clearImmediate, clearInterval, clearTimeout, console, crypto, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, eval, expect, exports, fetch, global, globalThis, isFinite, isNaN, jest, module, navigator, parseFloat, parseInt, performance, process, queueMicrotask, require, setImmediate, setInterval, setTimeout, structuredClone, undefined, unescape.\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` (case insensitive) are permitted.\n\n      130 | export const mockThemeProvider = () => {\n      131 |   jest.mock('@/components/ThemeProvider', () => ({\n    > 132 |     useThemeContext: () => createMockThemeContext(true),\n          |                            ^^^^^^^^^^^^^^^^^^^^^^\n      133 |     ThemeProvider: ({ children }: any) => children,\n      134 |     ThemedText: ({ children, variant, testID }: any) => (\n      135 |       <span data-testid={testID || `themed-text-${variant || 'primary'}`}>\n\n      4 | // ============================================================================\n      5 |\n    > 6 | import { render, fireEvent } from '@/test/test-utils';\n        | ^\n      7 | import { useRouter } from 'expo-router';\n      8 | import Index from '../index';\n      9 |\n\n      at File.buildCodeFrameError (node_modules/@babel/core/src/transformation/file/file.ts:256:12)\n      at NodePath.buildError [as buildCodeFrameError] (node_modules/@babel/traverse/src/path/index.ts:142:21)\n      at call (node_modules/@babel/traverse/src/visitors.ts:303:14)\n      at NodePath.call [as _call] (node_modules/@babel/traverse/src/path/context.ts:36:20)\n      at NodePath.call (node_modules/@babel/traverse/src/path/context.ts:21:18)\n      at NodePath.call [as visit] (node_modules/@babel/traverse/src/path/context.ts:97:31)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at traverse (node_modules/@babel/traverse/src/index.ts:83:15)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:119:15)\n          at transformFile.next (<anonymous>)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:49:12)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (app/__tests__/index.test.tsx:6:1)\n\nFAIL src/test/government-integration.test.ts\n  ● Government Integration Service › Tax & Royalty Calculation › should calculate tax and royalty correctly\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/government-integration.test.ts:31:55)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Tax & Royalty Calculation › should generate cryptographic proof for tax calculation\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/government-integration.test.ts:53:55)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Royalty Payment Processing › should process royalty payment successfully\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at GovernmentIntegrationService.calculateTaxAndRoyalty (src/services/government-integration.ts:195:38)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as processRoyaltyPayment] (src/services/government-integration.ts:186:30)\n      at Object.processRoyaltyPayment (src/test/government-integration.test.ts:78:51)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Royalty Payment Processing › should handle different payment methods\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at GovernmentIntegrationService.calculateTaxAndRoyalty (src/services/government-integration.ts:195:38)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as processRoyaltyPayment] (src/services/government-integration.ts:186:30)\n      at Object.processRoyaltyPayment (src/test/government-integration.test.ts:99:53)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Regulatory Approval Workflow › should submit regulatory approval successfully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"submitted\"\n    Received: \"pending_documents\"\n\n      138 |       expect(workflow.approvalType).toBe(approvalType);\n      139 |       expect(workflow.applicantId).toBe(applicantId);\n    > 140 |       expect(workflow.status).toBe('submitted');\n          |                               ^\n      141 |       expect(workflow.complianceScore).toBeGreaterThan(0);\n      142 |       expect(workflow.riskAssessment).toBeDefined();\n      143 |     });\n\n      at Object.toBe (src/test/government-integration.test.ts:140:31)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Regulatory Approval Workflow › should review regulatory approval successfully\n\n    Workflow not found\n\n      248 |       const workflow = await this.getWorkflowRecord(workflowId);\n      249 |       if (!workflow) {\n    > 250 |         throw new Error('Workflow not found');\n          |               ^\n      251 |       }\n      252 |\n      253 |       workflow.status = decision;\n\n      at RegulatoryComplianceService.<anonymous> (src/services/regulatory-compliance.ts:250:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Compliance Monitoring › should update compliance monitoring with new data\n\n    Monitoring record not found\n\n      331 |       const monitoring = await this.getMonitoringRecord(monitorId);\n      332 |       if (!monitoring) {\n    > 333 |         throw new Error('Monitoring record not found');\n          |               ^\n      334 |       }\n      335 |\n      336 |       // Update metrics based on new data\n\n      at RegulatoryComplianceService.<anonymous> (src/services/regulatory-compliance.ts:333:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Government Reporting › should generate government report successfully\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Government Reporting › should handle different report types\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Compliance Auditing › should conduct tax compliance audit\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Compliance Auditing › should detect violations in environmental compliance\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Government Integration Service › Performance Testing › should complete tax calculation within reasonable time\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/government-integration.test.ts:360:35)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Performance Testing › should handle multiple concurrent operations\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at calculateTaxAndRoyalty (src/test/government-integration.test.ts:372:31)\n          at Function.from (<anonymous>)\n      at Object.from (src/test/government-integration.test.ts:371:30)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Data Integrity › should maintain data consistency across operations\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/government-integration.test.ts:390:55)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Government Integration Service › Data Integrity › should generate unique IDs for all operations\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/government-integration.test.ts:415:55)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/test/__tests__/testing-infrastructure.test.ts\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n       5 |\n       6 | import React, { ReactElement, ReactNode } from 'react';\n    >  7 | import { render, RenderOptions } from '@testing-library/react-native';\n         | ^\n       8 | import { act, fireEvent, waitFor } from '@testing-library/react-native';\n       9 |\n      10 | // ============================================================================\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/test/testing-utils.tsx:7:1)\n      at Object.require (src/test/__tests__/testing-infrastructure.test.ts:6:1)\n\nFAIL src/components/__tests__/SystemStatus.test.tsx\n  ● Test suite failed to run\n\n    ReferenceError: /Users/amanianai/geotag-app/src/test/test-utils.tsx: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variables.\n    Invalid variable access: createMockThemeContext\n    Allowed objects: AbortController, AbortSignal, AggregateError, Array, ArrayBuffer, Atomics, BigInt, BigInt64Array, BigUint64Array, Blob, Boolean, BroadcastChannel, Buffer, ByteLengthQueuingStrategy, CompressionStream, CountQueuingStrategy, Crypto, CryptoKey, CustomEvent, DOMException, DataView, Date, DecompressionStream, Error, EvalError, Event, EventTarget, File, FinalizationRegistry, Float32Array, Float64Array, FormData, Function, Generator, GeneratorFunction, Headers, Infinity, Int16Array, Int32Array, Int8Array, InternalError, Intl, Iterator, JSON, Map, Math, MessageChannel, MessageEvent, MessagePort, NaN, Navigator, Number, Object, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserver, PerformanceObserverEntryList, PerformanceResourceTiming, Promise, Proxy, RangeError, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, ReferenceError, Reflect, RegExp, Request, Response, Set, SharedArrayBuffer, String, SubtleCrypto, Symbol, SyntaxError, TextDecoder, TextDecoderStream, TextEncoder, TextEncoderStream, TransformStream, TransformStreamDefaultController, TypeError, URIError, URL, URLSearchParams, Uint16Array, Uint32Array, Uint8Array, Uint8ClampedArray, WeakMap, WeakRef, WeakSet, WebAssembly, WebSocket, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter, __dirname, __filename, arguments, atob, btoa, clearImmediate, clearInterval, clearTimeout, console, crypto, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, eval, expect, exports, fetch, global, globalThis, isFinite, isNaN, jest, module, navigator, parseFloat, parseInt, performance, process, queueMicrotask, require, setImmediate, setInterval, setTimeout, structuredClone, undefined, unescape.\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` (case insensitive) are permitted.\n\n      130 | export const mockThemeProvider = () => {\n      131 |   jest.mock('@/components/ThemeProvider', () => ({\n    > 132 |     useThemeContext: () => createMockThemeContext(true),\n          |                            ^^^^^^^^^^^^^^^^^^^^^^\n      133 |     ThemeProvider: ({ children }: any) => children,\n      134 |     ThemedText: ({ children, variant, testID }: any) => (\n      135 |       <span data-testid={testID || `themed-text-${variant || 'primary'}`}>\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render } from '@/test/test-utils';\n         | ^\n       8 | import { SystemStatus } from '../SystemStatus';\n       9 |\n      10 | // Mock the system store\n\n      at File.buildCodeFrameError (node_modules/@babel/core/src/transformation/file/file.ts:256:12)\n      at NodePath.buildError [as buildCodeFrameError] (node_modules/@babel/traverse/src/path/index.ts:142:21)\n      at call (node_modules/@babel/traverse/src/visitors.ts:303:14)\n      at NodePath.call [as _call] (node_modules/@babel/traverse/src/path/context.ts:36:20)\n      at NodePath.call (node_modules/@babel/traverse/src/path/context.ts:21:18)\n      at NodePath.call [as visit] (node_modules/@babel/traverse/src/path/context.ts:97:31)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at traverse (node_modules/@babel/traverse/src/index.ts:83:15)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:119:15)\n          at transformFile.next (<anonymous>)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:49:12)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (src/components/__tests__/SystemStatus.test.tsx:7:1)\n\nFAIL src/components/__tests__/Footer.test.tsx\n  ● Test suite failed to run\n\n    ReferenceError: /Users/amanianai/geotag-app/src/test/test-utils.tsx: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variables.\n    Invalid variable access: createMockThemeContext\n    Allowed objects: AbortController, AbortSignal, AggregateError, Array, ArrayBuffer, Atomics, BigInt, BigInt64Array, BigUint64Array, Blob, Boolean, BroadcastChannel, Buffer, ByteLengthQueuingStrategy, CompressionStream, CountQueuingStrategy, Crypto, CryptoKey, CustomEvent, DOMException, DataView, Date, DecompressionStream, Error, EvalError, Event, EventTarget, File, FinalizationRegistry, Float32Array, Float64Array, FormData, Function, Generator, GeneratorFunction, Headers, Infinity, Int16Array, Int32Array, Int8Array, InternalError, Intl, Iterator, JSON, Map, Math, MessageChannel, MessageEvent, MessagePort, NaN, Navigator, Number, Object, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserver, PerformanceObserverEntryList, PerformanceResourceTiming, Promise, Proxy, RangeError, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, ReferenceError, Reflect, RegExp, Request, Response, Set, SharedArrayBuffer, String, SubtleCrypto, Symbol, SyntaxError, TextDecoder, TextDecoderStream, TextEncoder, TextEncoderStream, TransformStream, TransformStreamDefaultController, TypeError, URIError, URL, URLSearchParams, Uint16Array, Uint32Array, Uint8Array, Uint8ClampedArray, WeakMap, WeakRef, WeakSet, WebAssembly, WebSocket, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter, __dirname, __filename, arguments, atob, btoa, clearImmediate, clearInterval, clearTimeout, console, crypto, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, eval, expect, exports, fetch, global, globalThis, isFinite, isNaN, jest, module, navigator, parseFloat, parseInt, performance, process, queueMicrotask, require, setImmediate, setInterval, setTimeout, structuredClone, undefined, unescape.\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` (case insensitive) are permitted.\n\n      130 | export const mockThemeProvider = () => {\n      131 |   jest.mock('@/components/ThemeProvider', () => ({\n    > 132 |     useThemeContext: () => createMockThemeContext(true),\n          |                            ^^^^^^^^^^^^^^^^^^^^^^\n      133 |     ThemeProvider: ({ children }: any) => children,\n      134 |     ThemedText: ({ children, variant, testID }: any) => (\n      135 |       <span data-testid={testID || `themed-text-${variant || 'primary'}`}>\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render } from '@/test/test-utils';\n         | ^\n       8 | import { Footer } from '../Footer';\n       9 |\n      10 | // Mock expo-vector-icons\n\n      at File.buildCodeFrameError (node_modules/@babel/core/src/transformation/file/file.ts:256:12)\n      at NodePath.buildError [as buildCodeFrameError] (node_modules/@babel/traverse/src/path/index.ts:142:21)\n      at call (node_modules/@babel/traverse/src/visitors.ts:303:14)\n      at NodePath.call [as _call] (node_modules/@babel/traverse/src/path/context.ts:36:20)\n      at NodePath.call (node_modules/@babel/traverse/src/path/context.ts:21:18)\n      at NodePath.call [as visit] (node_modules/@babel/traverse/src/path/context.ts:97:31)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at traverse (node_modules/@babel/traverse/src/index.ts:83:15)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:119:15)\n          at transformFile.next (<anonymous>)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:49:12)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (src/components/__tests__/Footer.test.tsx:7:1)\n\nFAIL src/components/__tests__/Header.test.tsx\n  ● Test suite failed to run\n\n    ReferenceError: /Users/amanianai/geotag-app/src/test/test-utils.tsx: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variables.\n    Invalid variable access: createMockThemeContext\n    Allowed objects: AbortController, AbortSignal, AggregateError, Array, ArrayBuffer, Atomics, BigInt, BigInt64Array, BigUint64Array, Blob, Boolean, BroadcastChannel, Buffer, ByteLengthQueuingStrategy, CompressionStream, CountQueuingStrategy, Crypto, CryptoKey, CustomEvent, DOMException, DataView, Date, DecompressionStream, Error, EvalError, Event, EventTarget, File, FinalizationRegistry, Float32Array, Float64Array, FormData, Function, Generator, GeneratorFunction, Headers, Infinity, Int16Array, Int32Array, Int8Array, InternalError, Intl, Iterator, JSON, Map, Math, MessageChannel, MessageEvent, MessagePort, NaN, Navigator, Number, Object, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserver, PerformanceObserverEntryList, PerformanceResourceTiming, Promise, Proxy, RangeError, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, ReferenceError, Reflect, RegExp, Request, Response, Set, SharedArrayBuffer, String, SubtleCrypto, Symbol, SyntaxError, TextDecoder, TextDecoderStream, TextEncoder, TextEncoderStream, TransformStream, TransformStreamDefaultController, TypeError, URIError, URL, URLSearchParams, Uint16Array, Uint32Array, Uint8Array, Uint8ClampedArray, WeakMap, WeakRef, WeakSet, WebAssembly, WebSocket, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter, __dirname, __filename, arguments, atob, btoa, clearImmediate, clearInterval, clearTimeout, console, crypto, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, eval, expect, exports, fetch, global, globalThis, isFinite, isNaN, jest, module, navigator, parseFloat, parseInt, performance, process, queueMicrotask, require, setImmediate, setInterval, setTimeout, structuredClone, undefined, unescape.\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` (case insensitive) are permitted.\n\n      130 | export const mockThemeProvider = () => {\n      131 |   jest.mock('@/components/ThemeProvider', () => ({\n    > 132 |     useThemeContext: () => createMockThemeContext(true),\n          |                            ^^^^^^^^^^^^^^^^^^^^^^\n      133 |     ThemeProvider: ({ children }: any) => children,\n      134 |     ThemedText: ({ children, variant, testID }: any) => (\n      135 |       <span data-testid={testID || `themed-text-${variant || 'primary'}`}>\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render, fireEvent } from '@/test/test-utils';\n         | ^\n       8 | import { Header } from '../Header';\n       9 | import { useUser } from '@/store/user';\n      10 |\n\n      at File.buildCodeFrameError (node_modules/@babel/core/src/transformation/file/file.ts:256:12)\n      at NodePath.buildError [as buildCodeFrameError] (node_modules/@babel/traverse/src/path/index.ts:142:21)\n      at call (node_modules/@babel/traverse/src/visitors.ts:303:14)\n      at NodePath.call [as _call] (node_modules/@babel/traverse/src/path/context.ts:36:20)\n      at NodePath.call (node_modules/@babel/traverse/src/path/context.ts:21:18)\n      at NodePath.call [as visit] (node_modules/@babel/traverse/src/path/context.ts:97:31)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at traverse (node_modules/@babel/traverse/src/index.ts:83:15)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:119:15)\n          at transformFile.next (<anonymous>)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:49:12)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (src/components/__tests__/Header.test.tsx:7:1)\n\nFAIL src/test/performance.test.ts\n  ● Performance Testing Suite › Cryptography Performance › should handle multiple concurrent hash operations\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      60 |       expect(duration).toBeLessThan(30000); // Should complete within 30 seconds\n      61 |       results.forEach(result => {\n    > 62 |         expect(result.hash).toBeDefined();\n         |                             ^\n      63 |         expect(result.entropyQuality).toBeGreaterThan(0.7);\n      64 |       });\n      65 |     });\n\n      at toBeDefined (src/test/performance.test.ts:62:29)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (src/test/performance.test.ts:61:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Performance Testing Suite › Cryptography Performance › should complete multi-signature generation within 3 seconds\n\n    Military-grade identity required\n\n      122 |     try {\n      123 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 124 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      125 |\n      126 |       const dataHash = sha256(data);\n      127 |       \n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:124:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Performance Testing Suite › Cryptography Performance › should handle certificate generation efficiently\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Performance Testing Suite › GPS Performance › should acquire location within 10 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      110 |       const startTime = Date.now();\n      111 |       \n    > 112 |       await locationService.getMilitaryGradeCurrentLocation();\n          |                             ^\n      113 |       \n      114 |       const endTime = Date.now();\n      115 |       const duration = endTime - startTime;\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/performance.test.ts:112:29)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › GPS Performance › should handle multiple concurrent location requests\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      120 |     it('should handle multiple concurrent location requests', async () => {\n      121 |       const promises = Array.from({ length: 10 }, () =>\n    > 122 |         locationService.getMilitaryGradeCurrentLocation()\n          |                         ^\n      123 |       );\n      124 |\n      125 |       const startTime = Date.now();\n\n      at getMilitaryGradeCurrentLocation (src/test/performance.test.ts:122:25)\n          at Function.from (<anonymous>)\n      at Object.from (src/test/performance.test.ts:121:30)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › GPS Performance › should filter location data efficiently\n\n    TypeError: Cannot read properties of undefined (reading 'filterLocation')\n\n      148 |       \n      149 |       const filteredLocations = locations.map(location => \n    > 150 |         locationService.filterLocation(location)\n          |                         ^\n      151 |       );\n      152 |       \n      153 |       const endTime = Date.now();\n\n      at filterLocation (src/test/performance.test.ts:150:25)\n          at Array.map (<anonymous>)\n      at Object.map (src/test/performance.test.ts:149:43)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Government Integration Performance › should complete tax calculation within 3 seconds\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at Object.calculateTaxAndRoyalty (src/test/performance.test.ts:165:35)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Government Integration Performance › should handle multiple concurrent tax calculations\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at calculateTaxAndRoyalty (src/test/performance.test.ts:180:31)\n          at Function.from (<anonymous>)\n      at Object.from (src/test/performance.test.ts:179:30)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Government Integration Performance › should process payment efficiently\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at GovernmentIntegrationService.calculateTaxAndRoyalty (src/services/government-integration.ts:195:38)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as processRoyaltyPayment] (src/services/government-integration.ts:186:30)\n      at Object.processRoyaltyPayment (src/test/performance.test.ts:205:35)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Government Integration Performance › should generate government reports efficiently\n\n    Military-grade identity required\n\n      218 |     try {\n      219 |       const identity = await this.getDigitalIdentity() as MilitaryGradeIdentity;\n    > 220 |       if (!identity) throw new Error('Military-grade identity required');\n          |                            ^\n      221 |\n      222 |       const dataString = JSON.stringify(data);\n      223 |       const dataHash = bytesToHex(sha256(dataString));\n\n      at MilitaryGradeCryptoService.<anonymous> (src/services/crypto.ts:220:28)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Performance Testing Suite › Network Performance › should handle offline operations efficiently\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at calculateTaxAndRoyalty (src/test/performance.test.ts:302:31)\n          at Function.from (<anonymous>)\n      at Object.from (src/test/performance.test.ts:301:39)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Battery Optimization › should minimize battery usage during operations\n\n    TypeError: Cannot read properties of undefined (reading 'getMilitaryGradeCurrentLocation')\n\n      378 |       // Perform battery-intensive operations\n      379 |       for (let i = 0; i < 50; i++) {\n    > 380 |         await locationService.getMilitaryGradeCurrentLocation();\n          |                               ^\n      381 |         await cryptoService.generateQuantumResistantHash({\n      382 |           minerId: `MINER_${i}`,\n      383 |           location: { latitude: 5.5600, longitude: -0.2057 },\n\n      at Object.getMilitaryGradeCurrentLocation (src/test/performance.test.ts:380:31)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Battery Optimization › should optimize GPS usage for battery efficiency\n\n    TypeError: Cannot read properties of undefined (reading 'watchMilitaryGradeLocation')\n\n      398 |       \n      399 |       // Simulate GPS tracking with battery optimization\n    > 400 |       const trackingSession = await locationService.watchMilitaryGradeLocation(\n          |                                                     ^\n      401 |         (location) => console.log('Location update:', location),\n      402 |         { interval: 5000, distanceFilter: 10 } // 5-second interval, 10m filter\n      403 |       );\n\n      at Object.watchMilitaryGradeLocation (src/test/performance.test.ts:400:53)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Performance Testing Suite › Load Testing › should maintain performance under stress\n\n    Certificate template 'tax-calculation' not found\n\n      250 |       const template = this.certificateTemplates.get(templateId);\n      251 |       if (!template) {\n    > 252 |         throw new Error(`Certificate template '${templateId}' not found`);\n          |               ^\n      253 |       }\n      254 |\n      255 |       // Validate required fields\n\n      at MilitaryGradeCertificateGenerator.<anonymous> (src/services/certificate-generator.ts:252:15)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at MilitaryGradeCertificateGenerator.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at MilitaryGradeCertificateGenerator.apply [as generateMilitaryGradeCertificate] (src/services/certificate-generator.ts:234:41)\n      at GovernmentIntegrationService.generateMilitaryGradeCertificate (src/services/government-integration.ts:440:59)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as generateTaxCertificate] (src/services/government-integration.ts:438:39)\n      at GovernmentIntegrationService.generateTaxCertificate (src/services/government-integration.ts:142:40)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at GovernmentIntegrationService.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n      at GovernmentIntegrationService.apply [as calculateTaxAndRoyalty] (src/services/government-integration.ts:120:31)\n      at calculateTaxAndRoyalty (src/test/performance.test.ts:463:33)\n          at Array.map (<anonymous>)\n      at Object.map (src/test/performance.test.ts:462:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/components/__tests__/Layout.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render } from '@testing-library/react-native';\n         | ^\n       8 | import { Layout } from '../Layout';\n       9 |\n      10 | // Mock the Header component\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/__tests__/Layout.test.tsx:7:1)\n\nFAIL src/components/__tests__/HistoryModal.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n      1 | import React from 'react';\n    > 2 | import { render, fireEvent, waitFor } from '@testing-library/react-native';\n        | ^\n      3 | import { HistoryModal } from '../HistoryModal';\n      4 |\n      5 | // Mock react-native-maps\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/__tests__/HistoryModal.test.tsx:2:1)\n\nFAIL src/store/__tests__/user.test.ts\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n    > 1 | import { renderHook, act } from '@testing-library/react-native';\n        | ^\n      2 | import { useUser } from '../user';\n      3 |\n      4 | describe('User Store', () => {\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/store/__tests__/user.test.ts:1:1)\n\nFAIL src/store/__tests__/system.test.ts\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n    > 1 | import { renderHook, act } from '@testing-library/react-native';\n        | ^\n      2 | import { useSystem } from '../system';\n      3 |\n      4 | describe('System Store', () => {\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/store/__tests__/system.test.ts:1:1)\n\nFAIL src/components/visualization/__tests__/Terrain3D.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n      1 | import React from 'react';\n    > 2 | import { render } from '@testing-library/react-native';\n        | ^\n      3 | import { Terrain3D } from '../Terrain3D';\n      4 |\n      5 | jest.mock('@react-three/fiber/native', () => ({\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/visualization/__tests__/Terrain3D.test.tsx:2:1)\n\nFAIL src/test/security.test.ts\n  ● Security Service › Biometric Authentication › should support fingerprint authentication\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n      24 |       const isEnrolled = await LocalAuthentication.isEnrolledAsync();\n      25 |\n    > 26 |       expect(hasHardware).toBeDefined();\n         |                           ^\n      27 |       expect(isEnrolled).toBeDefined();\n      28 |\n      29 |       if (hasHardware && isEnrolled) {\n\n      at Object.toBeDefined (src/test/security.test.ts:26:27)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Security Service › Biometric Authentication › should support face recognition authentication\n\n    TypeError: Cannot read properties of undefined (reading 'includes')\n\n      37 |       const supportedTypes = await LocalAuthentication.supportedAuthenticationTypesAsync();\n      38 |       \n    > 39 |       if (supportedTypes.includes(LocalAuthentication.AuthenticationType.FACIAL_RECOGNITION)) {\n         |                          ^\n      40 |         const result = await authService.authenticateWithFaceRecognition();\n      41 |         expect(result.success).toBeDefined();\n      42 |         expect(result.method).toBe('face_recognition');\n\n      at Object.includes (src/test/security.test.ts:39:26)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Security Service › Biometric Authentication › should detect spoofing attempts\n\n    TypeError: _auth.authService.checkAntiSpoofing is not a function\n\n      45 |\n      46 |     it('should detect spoofing attempts', async () => {\n    > 47 |       const antiSpoofingResult = await authService.checkAntiSpoofing();\n         |                                                    ^\n      48 |       \n      49 |       expect(antiSpoofingResult).toBeDefined();\n      50 |       expect(antiSpoofingResult.detected).toBeDefined();\n\n      at Object.checkAntiSpoofing (src/test/security.test.ts:47:52)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Biometric Authentication › should provide fallback authentication methods\n\n    TypeError: _auth.authService.getFallbackAuthenticationMethods is not a function\n\n      54 |\n      55 |     it('should provide fallback authentication methods', async () => {\n    > 56 |       const fallbackMethods = await authService.getFallbackAuthenticationMethods();\n         |                                                 ^\n      57 |       \n      58 |       expect(fallbackMethods).toBeInstanceOf(Array);\n      59 |       expect(fallbackMethods.length).toBeGreaterThan(0);\n\n      at Object.getFallbackAuthenticationMethods (src/test/security.test.ts:56:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Secure Storage › should store sensitive data securely\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"{\\\"privateKey\\\":\\\"test_private_key\\\",\\\"certificate\\\":\\\"test_certificate\\\",\\\"identity\\\":\\\"test_identity\\\"}\"\n    Received: null\n\n      74 |       \n      75 |       const retrievedData = await SecureStore.getItemAsync('test_secure_data');\n    > 76 |       expect(retrievedData).toBe(JSON.stringify(testData));\n         |                             ^\n      77 |     });\n      78 |\n      79 |     it('should encrypt stored data', async () => {\n\n      at Object.toBe (src/test/security.test.ts:76:29)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n\n  ● Security Service › Secure Storage › should encrypt stored data\n\n    TypeError: _auth.authService.storeSecureData is not a function\n\n      84 |       };\n      85 |\n    > 86 |       await authService.storeSecureData('sensitive_data', sensitiveData);\n         |                         ^\n      87 |       \n      88 |       const storedData = await authService.getSecureData('sensitive_data');\n      89 |       expect(storedData).toBeDefined();\n\n      at Object.storeSecureData (src/test/security.test.ts:86:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Secure Storage › should prevent unauthorized access to secure storage\n\n    TypeError: _auth.authService.storeSecureData is not a function\n\n      93 |     it('should prevent unauthorized access to secure storage', async () => {\n      94 |       const testData = { secret: 'test_secret' };\n    > 95 |       await authService.storeSecureData('protected_data', testData);\n         |                         ^\n      96 |\n      97 |       // Attempt unauthorized access\n      98 |       const unauthorizedAccess = await authService.attemptUnauthorizedAccess('protected_data');\n\n      at Object.storeSecureData (src/test/security.test.ts:95:25)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Encryption › should encrypt sensitive data with AES-256\n\n    TypeError: cryptoService.encryptData is not a function\n\n      110 |       };\n      111 |\n    > 112 |       const encryptedData = await cryptoService.encryptData(sensitiveData);\n          |                                                 ^\n      113 |       \n      114 |       expect(encryptedData).toBeDefined();\n      115 |       expect(encryptedData.encrypted).toBeDefined();\n\n      at Object.encryptData (src/test/security.test.ts:112:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Encryption › should decrypt data correctly\n\n    TypeError: cryptoService.encryptData is not a function\n\n      125 |       };\n      126 |\n    > 127 |       const encryptedData = await cryptoService.encryptData(originalData);\n          |                                                 ^\n      128 |       const decryptedData = await cryptoService.decryptData(encryptedData);\n      129 |\n      130 |       expect(decryptedData.minerId).toBe(originalData.minerId);\n\n      at Object.encryptData (src/test/security.test.ts:127:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Encryption › should detect tampered encrypted data\n\n    TypeError: cryptoService.encryptData is not a function\n\n      135 |     it('should detect tampered encrypted data', async () => {\n      136 |       const originalData = { secret: 'test_secret' };\n    > 137 |       const encryptedData = await cryptoService.encryptData(originalData);\n          |                                                 ^\n      138 |\n      139 |       // Tamper with encrypted data\n      140 |       const tamperedData = { ...encryptedData };\n\n      at Object.encryptData (src/test/security.test.ts:137:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Certificate Pinning › should validate SSL certificates\n\n    TypeError: _auth.authService.validateSSLCertificate is not a function\n\n      149 |   describe('Certificate Pinning', () => {\n      150 |     it('should validate SSL certificates', async () => {\n    > 151 |       const certificateValidation = await authService.validateSSLCertificate('https://api.geotag.gh');\n          |                                                       ^\n      152 |       \n      153 |       expect(certificateValidation.valid).toBe(true);\n      154 |       expect(certificateValidation.issuer).toBeDefined();\n\n      at Object.validateSSLCertificate (src/test/security.test.ts:151:55)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Certificate Pinning › should detect certificate pinning violations\n\n    TypeError: _auth.authService.checkCertificatePinning is not a function\n\n      158 |\n      159 |     it('should detect certificate pinning violations', async () => {\n    > 160 |       const pinningCheck = await authService.checkCertificatePinning('https://malicious-site.com');\n          |                                              ^\n      161 |       \n      162 |       expect(pinningCheck.valid).toBe(false);\n      163 |       expect(pinningCheck.violation).toBe('certificate_pinning_violation');\n\n      at Object.checkCertificatePinning (src/test/security.test.ts:160:46)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Network Security › should detect man-in-the-middle attacks\n\n    TypeError: _auth.authService.detectManInTheMiddle is not a function\n\n      168 |   describe('Network Security', () => {\n      169 |     it('should detect man-in-the-middle attacks', async () => {\n    > 170 |       const mitmDetection = await authService.detectManInTheMiddle();\n          |                                               ^\n      171 |       \n      172 |       expect(mitmDetection.detected).toBeDefined();\n      173 |       expect(mitmDetection.confidence).toBeDefined();\n\n      at Object.detectManInTheMiddle (src/test/security.test.ts:170:47)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Network Security › should validate network connections\n\n    TypeError: _auth.authService.validateNetworkConnection is not a function\n\n      176 |\n      177 |     it('should validate network connections', async () => {\n    > 178 |       const networkValidation = await authService.validateNetworkConnection();\n          |                                                   ^\n      179 |       \n      180 |       expect(networkValidation.secure).toBeDefined();\n      181 |       expect(networkValidation.protocol).toBeDefined();\n\n      at Object.validateNetworkConnection (src/test/security.test.ts:178:51)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Network Security › should detect suspicious network activity\n\n    TypeError: _auth.authService.detectSuspiciousNetworkActivity is not a function\n\n      185 |\n      186 |     it('should detect suspicious network activity', async () => {\n    > 187 |       const suspiciousActivity = await authService.detectSuspiciousNetworkActivity();\n          |                                                    ^\n      188 |       \n      189 |       expect(suspiciousActivity.detected).toBeDefined();\n      190 |       expect(suspiciousActivity.activities).toBeInstanceOf(Array);\n\n      at Object.detectSuspiciousNetworkActivity (src/test/security.test.ts:187:52)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Vulnerability Assessment › should perform comprehensive security audit\n\n    TypeError: _auth.authService.performSecurityAudit is not a function\n\n      196 |   describe('Vulnerability Assessment', () => {\n      197 |     it('should perform comprehensive security audit', async () => {\n    > 198 |       const securityAudit = await authService.performSecurityAudit();\n          |                                               ^\n      199 |       \n      200 |       expect(securityAudit).toBeDefined();\n      201 |       expect(securityAudit.vulnerabilities).toBeInstanceOf(Array);\n\n      at Object.performSecurityAudit (src/test/security.test.ts:198:47)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Vulnerability Assessment › should identify security vulnerabilities\n\n    TypeError: _auth.authService.identifyVulnerabilities is not a function\n\n      206 |\n      207 |     it('should identify security vulnerabilities', async () => {\n    > 208 |       const vulnerabilities = await authService.identifyVulnerabilities();\n          |                                                 ^\n      209 |       \n      210 |       expect(vulnerabilities).toBeInstanceOf(Array);\n      211 |       vulnerabilities.forEach(vulnerability => {\n\n      at Object.identifyVulnerabilities (src/test/security.test.ts:208:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Vulnerability Assessment › should provide security recommendations\n\n    TypeError: _auth.authService.getSecurityRecommendations is not a function\n\n      218 |\n      219 |     it('should provide security recommendations', async () => {\n    > 220 |       const recommendations = await authService.getSecurityRecommendations();\n          |                                                 ^\n      221 |       \n      222 |       expect(recommendations).toBeInstanceOf(Array);\n      223 |       expect(recommendations.length).toBeGreaterThan(0);\n\n      at Object.getSecurityRecommendations (src/test/security.test.ts:220:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Penetration Testing › should simulate attack scenarios\n\n    TypeError: _auth.authService.simulateAttackScenarios is not a function\n\n      232 |   describe('Penetration Testing', () => {\n      233 |     it('should simulate attack scenarios', async () => {\n    > 234 |       const attackSimulation = await authService.simulateAttackScenarios();\n          |                                                  ^\n      235 |       \n      236 |       expect(attackSimulation).toBeDefined();\n      237 |       expect(attackSimulation.scenarios).toBeInstanceOf(Array);\n\n      at Object.simulateAttackScenarios (src/test/security.test.ts:234:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Penetration Testing › should test authentication bypass attempts\n\n    TypeError: _auth.authService.testAuthenticationBypass is not a function\n\n      241 |\n      242 |     it('should test authentication bypass attempts', async () => {\n    > 243 |       const bypassAttempts = await authService.testAuthenticationBypass();\n          |                                                ^\n      244 |       \n      245 |       expect(bypassAttempts.successful).toBe(false);\n      246 |       expect(bypassAttempts.attempts).toBeInstanceOf(Array);\n\n      at Object.testAuthenticationBypass (src/test/security.test.ts:243:48)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Penetration Testing › should test data injection attacks\n\n    TypeError: _auth.authService.testDataInjection is not a function\n\n      250 |\n      251 |     it('should test data injection attacks', async () => {\n    > 252 |       const injectionTests = await authService.testDataInjection();\n          |                                                ^\n      253 |       \n      254 |       expect(injectionTests.vulnerable).toBe(false);\n      255 |       expect(injectionTests.tests).toBeInstanceOf(Array);\n\n      at Object.testDataInjection (src/test/security.test.ts:252:48)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Compliance Validation › should validate Ghana government compliance\n\n    TypeError: _auth.authService.validateGhanaCompliance is not a function\n\n      261 |   describe('Compliance Validation', () => {\n      262 |     it('should validate Ghana government compliance', async () => {\n    > 263 |       const ghanaCompliance = await authService.validateGhanaCompliance();\n          |                                                 ^\n      264 |       \n      265 |       expect(ghanaCompliance.compliant).toBe(true);\n      266 |       expect(ghanaCompliance.standards).toBeInstanceOf(Array);\n\n      at Object.validateGhanaCompliance (src/test/security.test.ts:263:49)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Compliance Validation › should validate international trade compliance\n\n    TypeError: _auth.authService.validateInternationalCompliance is not a function\n\n      270 |\n      271 |     it('should validate international trade compliance', async () => {\n    > 272 |       const internationalCompliance = await authService.validateInternationalCompliance();\n          |                                                         ^\n      273 |       \n      274 |       expect(internationalCompliance.compliant).toBe(true);\n      275 |       expect(internationalCompliance.standards).toBeInstanceOf(Array);\n\n      at Object.validateInternationalCompliance (src/test/security.test.ts:272:57)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Compliance Validation › should validate GDPR compliance\n\n    TypeError: _auth.authService.validateGDPRCompliance is not a function\n\n      279 |\n      280 |     it('should validate GDPR compliance', async () => {\n    > 281 |       const gdprCompliance = await authService.validateGDPRCompliance();\n          |                                                ^\n      282 |       \n      283 |       expect(gdprCompliance.compliant).toBe(true);\n      284 |       expect(gdprCompliance.requirements).toBeInstanceOf(Array);\n\n      at Object.validateGDPRCompliance (src/test/security.test.ts:281:48)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Audit Trail › should maintain comprehensive audit logs\n\n    TypeError: _auth.authService.getAuditLogs is not a function\n\n      290 |   describe('Audit Trail', () => {\n      291 |     it('should maintain comprehensive audit logs', async () => {\n    > 292 |       const auditLogs = await authService.getAuditLogs();\n          |                                           ^\n      293 |       \n      294 |       expect(auditLogs).toBeInstanceOf(Array);\n      295 |       expect(auditLogs.length).toBeGreaterThan(0);\n\n      at Object.getAuditLogs (src/test/security.test.ts:292:43)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Audit Trail › should detect unauthorized access attempts\n\n    TypeError: _auth.authService.detectUnauthorizedAccess is not a function\n\n      303 |\n      304 |     it('should detect unauthorized access attempts', async () => {\n    > 305 |       const unauthorizedAttempts = await authService.detectUnauthorizedAccess();\n          |                                                      ^\n      306 |       \n      307 |       expect(unauthorizedAttempts.detected).toBeDefined();\n      308 |       expect(unauthorizedAttempts.attempts).toBeInstanceOf(Array);\n\n      at Object.detectUnauthorizedAccess (src/test/security.test.ts:305:54)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Audit Trail › should provide audit trail analysis\n\n    TypeError: _auth.authService.analyzeAuditTrail is not a function\n\n      312 |\n      313 |     it('should provide audit trail analysis', async () => {\n    > 314 |       const auditAnalysis = await authService.analyzeAuditTrail();\n          |                                               ^\n      315 |       \n      316 |       expect(auditAnalysis).toBeDefined();\n      317 |       expect(auditAnalysis.totalEvents).toBeDefined();\n\n      at Object.analyzeAuditTrail (src/test/security.test.ts:314:47)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Protection › should implement data retention policies\n\n    TypeError: _auth.authService.getDataRetentionPolicies is not a function\n\n      324 |   describe('Data Protection', () => {\n      325 |     it('should implement data retention policies', async () => {\n    > 326 |       const retentionPolicies = await authService.getDataRetentionPolicies();\n          |                                                   ^\n      327 |       \n      328 |       expect(retentionPolicies).toBeDefined();\n      329 |       expect(retentionPolicies.policies).toBeInstanceOf(Array);\n\n      at Object.getDataRetentionPolicies (src/test/security.test.ts:326:51)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Protection › should protect user privacy\n\n    TypeError: _auth.authService.validatePrivacyProtection is not a function\n\n      333 |\n      334 |     it('should protect user privacy', async () => {\n    > 335 |       const privacyProtection = await authService.validatePrivacyProtection();\n          |                                                   ^\n      336 |       \n      337 |       expect(privacyProtection.protected).toBe(true);\n      338 |       expect(privacyProtection.measures).toBeInstanceOf(Array);\n\n      at Object.validatePrivacyProtection (src/test/security.test.ts:335:51)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Data Protection › should implement data anonymization\n\n    TypeError: _auth.authService.anonymizeData is not a function\n\n      348 |       };\n      349 |\n    > 350 |       const anonymizedData = await authService.anonymizeData(testData);\n          |                                                ^\n      351 |       \n      352 |       expect(anonymizedData.minerId).not.toBe(testData.minerId);\n      353 |       expect(anonymizedData.name).not.toBe(testData.name);\n\n      at Object.anonymizeData (src/test/security.test.ts:350:48)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Performance Security › should maintain security under load\n\n    TypeError: _auth.authService.testSecurityUnderLoad is not a function\n\n      359 |   describe('Performance Security', () => {\n      360 |     it('should maintain security under load', async () => {\n    > 361 |       const loadTest = await authService.testSecurityUnderLoad();\n          |                                          ^\n      362 |       \n      363 |       expect(loadTest.success).toBe(true);\n      364 |       expect(loadTest.responseTime).toBeLessThan(5000); // Under 5 seconds\n\n      at Object.testSecurityUnderLoad (src/test/security.test.ts:361:42)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Performance Security › should handle concurrent security operations\n\n    TypeError: _auth.authService.testConcurrentSecurityOperations is not a function\n\n      368 |\n      369 |     it('should handle concurrent security operations', async () => {\n    > 370 |       const concurrentTest = await authService.testConcurrentSecurityOperations();\n          |                                                ^\n      371 |       \n      372 |       expect(concurrentTest.success).toBe(true);\n      373 |       expect(concurrentTest.operations).toBeGreaterThan(0);\n\n      at Object.testConcurrentSecurityOperations (src/test/security.test.ts:370:48)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Error Handling › should handle security errors gracefully\n\n    TypeError: _auth.authService.testSecurityErrorHandling is not a function\n\n      379 |   describe('Error Handling', () => {\n      380 |     it('should handle security errors gracefully', async () => {\n    > 381 |       const errorHandling = await authService.testSecurityErrorHandling();\n          |                                               ^\n      382 |       \n      383 |       expect(errorHandling.success).toBe(true);\n      384 |       expect(errorHandling.errorsHandled).toBe(true);\n\n      at Object.testSecurityErrorHandling (src/test/security.test.ts:381:47)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\n  ● Security Service › Error Handling › should provide security incident response\n\n    TypeError: _auth.authService.testIncidentResponse is not a function\n\n      388 |\n      389 |     it('should provide security incident response', async () => {\n    > 390 |       const incidentResponse = await authService.testIncidentResponse();\n          |                                                  ^\n      391 |       \n      392 |       expect(incidentResponse.responded).toBe(true);\n      393 |       expect(incidentResponse.responseTime).toBeLessThan(30000); // Under 30 seconds\n\n      at Object.testIncidentResponse (src/test/security.test.ts:390:50)\n      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7\n      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)\n\nFAIL src/components/visualization/__tests__/ProvenanceGraph.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render, fireEvent, waitFor, act } from '@testing-library/react-native';\n         | ^\n       8 | import { ProvenanceGraph, ProvenanceNode, ProvenanceEdge } from '../ProvenanceGraph';\n       9 | import { ThemeProvider } from '@/components/ThemeProvider';\n      10 | import * as Haptics from 'expo-haptics';\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/visualization/__tests__/ProvenanceGraph.test.tsx:7:1)\n\nFAIL src/components/camera/__tests__/CinematicCamera.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n      1 | import React from 'react';\n    > 2 | import { render } from '@testing-library/react-native';\n        | ^\n      3 | import { CinematicCamera } from '../CinematicCamera';\n      4 |\n      5 | jest.mock('expo-camera', () => ({\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/camera/__tests__/CinematicCamera.test.tsx:2:1)\n\nFAIL src/components/gps/__tests__/GPSComponents.test.tsx\n  ● Test suite failed to run\n\n    ReferenceError: /Users/amanianai/geotag-app/src/test/test-utils.tsx: The module factory of `jest.mock()` is not allowed to reference any out-of-scope variables.\n    Invalid variable access: createMockThemeContext\n    Allowed objects: AbortController, AbortSignal, AggregateError, Array, ArrayBuffer, Atomics, BigInt, BigInt64Array, BigUint64Array, Blob, Boolean, BroadcastChannel, Buffer, ByteLengthQueuingStrategy, CompressionStream, CountQueuingStrategy, Crypto, CryptoKey, CustomEvent, DOMException, DataView, Date, DecompressionStream, Error, EvalError, Event, EventTarget, File, FinalizationRegistry, Float32Array, Float64Array, FormData, Function, Generator, GeneratorFunction, Headers, Infinity, Int16Array, Int32Array, Int8Array, InternalError, Intl, Iterator, JSON, Map, Math, MessageChannel, MessageEvent, MessagePort, NaN, Navigator, Number, Object, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserver, PerformanceObserverEntryList, PerformanceResourceTiming, Promise, Proxy, RangeError, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, ReferenceError, Reflect, RegExp, Request, Response, Set, SharedArrayBuffer, String, SubtleCrypto, Symbol, SyntaxError, TextDecoder, TextDecoderStream, TextEncoder, TextEncoderStream, TransformStream, TransformStreamDefaultController, TypeError, URIError, URL, URLSearchParams, Uint16Array, Uint32Array, Uint8Array, Uint8ClampedArray, WeakMap, WeakRef, WeakSet, WebAssembly, WebSocket, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter, __dirname, __filename, arguments, atob, btoa, clearImmediate, clearInterval, clearTimeout, console, crypto, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, eval, expect, exports, fetch, global, globalThis, isFinite, isNaN, jest, module, navigator, parseFloat, parseInt, performance, process, queueMicrotask, require, setImmediate, setInterval, setTimeout, structuredClone, undefined, unescape.\n    Note: This is a precaution to guard against uninitialized mock variables. If it is ensured that the mock is required lazily, variable names prefixed with `mock` (case insensitive) are permitted.\n\n      130 | export const mockThemeProvider = () => {\n      131 |   jest.mock('@/components/ThemeProvider', () => ({\n    > 132 |     useThemeContext: () => createMockThemeContext(true),\n          |                            ^^^^^^^^^^^^^^^^^^^^^^\n      133 |     ThemeProvider: ({ children }: any) => children,\n      134 |     ThemedText: ({ children, variant, testID }: any) => (\n      135 |       <span data-testid={testID || `themed-text-${variant || 'primary'}`}>\n\n       5 |\n       6 | import React from 'react';\n    >  7 | import { render, fireEvent, waitFor } from '@/test/test-utils';\n         | ^\n       8 | import { GPSTracker } from '../GPSComponents';\n       9 | import * as useGPSTracking from '@/hooks/useGPSTracking';\n      10 |\n\n      at File.buildCodeFrameError (node_modules/@babel/core/src/transformation/file/file.ts:256:12)\n      at NodePath.buildError [as buildCodeFrameError] (node_modules/@babel/traverse/src/path/index.ts:142:21)\n      at call (node_modules/@babel/traverse/src/visitors.ts:303:14)\n      at NodePath.call [as _call] (node_modules/@babel/traverse/src/path/context.ts:36:20)\n      at NodePath.call (node_modules/@babel/traverse/src/path/context.ts:21:18)\n      at NodePath.call [as visit] (node_modules/@babel/traverse/src/path/context.ts:97:31)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitMultiple] (node_modules/@babel/traverse/src/context.ts:99:17)\n      at TraversalContext.visitMultiple [as visit] (node_modules/@babel/traverse/src/context.ts:178:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at NodePath.visit (node_modules/@babel/traverse/src/path/context.ts:104:33)\n      at TraversalContext.visit [as visitQueue] (node_modules/@babel/traverse/src/context.ts:148:16)\n      at TraversalContext.visitQueue [as visitSingle] (node_modules/@babel/traverse/src/context.ts:109:19)\n      at TraversalContext.visitSingle [as visit] (node_modules/@babel/traverse/src/context.ts:180:19)\n      at visit (node_modules/@babel/traverse/src/traverse-node.ts:208:17)\n      at traverse (node_modules/@babel/traverse/src/index.ts:83:15)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:119:15)\n          at transformFile.next (<anonymous>)\n      at transformFile (node_modules/@babel/core/src/transformation/index.ts:49:12)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (src/components/gps/__tests__/GPSComponents.test.tsx:7:1)\n\nFAIL src/components/workforce/__tests__/WorkerProfile3D.test.tsx\n  ● Test suite failed to run\n\n    TypeError: Cannot convert undefined or null to object\n        at hasOwnProperty (<anonymous>)\n\n      1 | import React from 'react';\n    > 2 | import { render } from '@testing-library/react-native';\n        | ^\n      3 | import { WorkerProfile3D, WorkerProfile } from '../WorkerProfile3D';\n      4 |\n      5 | jest.mock('@react-three/fiber/native', () => ({\n\n      at Object.<anonymous> (node_modules/react-shallow-renderer/cjs/react-shallow-renderer.js:54:21)\n      at Object.<anonymous> (node_modules/react-shallow-renderer/index.js:3:18)\n      at Object.<anonymous> (node_modules/react-test-renderer/shallow.js:3:18)\n      at Object.require (node_modules/@testing-library/react-native/src/shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/helpers/debug-shallow.ts:3:1)\n      at Object.require (node_modules/@testing-library/react-native/src/render.tsx:13:1)\n      at Object.require (node_modules/@testing-library/react-native/src/pure.ts:4:1)\n      at Object.require (node_modules/@testing-library/react-native/src/index.ts:1:1)\n      at Object.require (src/components/workforce/__tests__/WorkerProfile3D.test.tsx:2:1)\n\n\nTest Suites: 24 failed, 10 passed, 34 total\nTests:       148 failed, 264 passed, 412 total\nSnapshots:   0 total\nTime:        46.757 s\nRan all test suites.\n"
    },
    "production": {
      "timestamp": 1754743482963,
      "scores": {
        "codeQuality": 40,
        "infrastructure": 20,
        "testing": 20,
        "security": 60,
        "deployment": 25
      },
      "overall": 33,
      "blockers": [],
      "recommendations": [
        "Set up proper deployment infrastructure",
        "Increase test coverage and automation",
        "Implement additional security measures"
      ]
    },
    "learning": {
      "timestamp": 1754743538403,
      "patterns": [
        {
          "type": "high_acceleration",
          "activity": "Global Location Service",
          "acceleration": null,
          "pattern": "AI-assisted development"
        }
      ],
      "insights": [
        "Global architecture patterns work well",
        "Country-specific configurations add value",
        "Offline-first design is essential"
      ],
      "improvements": [
        {
          "area": "testing",
          "current": 1,
          "improvement": "Implement parallel test execution",
          "impact": "High"
        }
      ],
      "acceleration": 2,
      "knowledge": {
        "technical": 85,
        "domain": 75,
        "process": 90
      }
    }
  },
  "benchmarks": {},
  "phase": "complete"
}