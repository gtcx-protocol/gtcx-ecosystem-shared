# ============================================================================
# GTCX BACKEND - PRODUCTION ENVIRONMENT CONFIGURATION
# Unified API & Services Backend
# Last Updated: January 11, 2025
# ============================================================================

# Rails Configuration
RAILS_ENV=production
RAILS_MAX_THREADS=10
SECRET_KEY_BASE=[RAILS_SECRET_KEY_BASE_PLACEHOLDER]
RAILS_SERVE_STATIC_FILES=false
RAILS_LOG_TO_STDOUT=true

# Database Configuration
DATABASE_URL=postgresql://gtcx_prod:secure_password@db.gtcx.africa:5432/gtcx_production
DATABASE_POOL_SIZE=25
DATABASE_TIMEOUT=30000
DATABASE_STATEMENT_TIMEOUT=30000

# Redis Configuration (Background Jobs & Caching)
REDIS_URL=redis://redis.gtcx.africa:6379/0
REDIS_CACHE_URL=redis://redis.gtcx.africa:6379/1
REDIS_SESSION_URL=redis://redis.gtcx.africa:6379/2
REDIS_POOL_SIZE=25

# Application Configuration
API_VERSION=v1
API_BASE_URL=https://api.gtcx.africa
CORS_ORIGINS=https://geotag.africa,https://tradepass.africa,https://tradedesk.africa
FORCE_SSL=true

# Authentication & JWT
JWT_SECRET=[BACKEND_JWT_SECRET_PLACEHOLDER]
JWT_EXPIRY=24h
REFRESH_TOKEN_EXPIRY=7d
API_RATE_LIMIT=5000

# Ghana Government Integration
GHANA_MINERALS_API_URL=https://api.mineralscommission.gov.gh/v1
GHANA_MINERALS_API_KEY=[GHANA_MINERALS_API_KEY_PLACEHOLDER]
GHANA_MINERALS_CLIENT_ID=[GHANA_CLIENT_ID_PLACEHOLDER]
GHANA_MINERALS_CLIENT_SECRET=[GHANA_CLIENT_SECRET_PLACEHOLDER]

GHANA_EPA_API_URL=https://api.epa.gov.gh/v1
GHANA_EPA_API_KEY=[EPA_API_KEY_PLACEHOLDER]

BANK_OF_GHANA_API_URL=https://api.bog.gov.gh/v1
BOG_API_KEY=[BOG_API_KEY_PLACEHOLDER]

# Mobile Money Integration
MTN_MOMO_API_URL=https://api.mtn.com.gh/collection/v1_0
MTN_MOMO_API_KEY=[MTN_MOMO_API_KEY_PLACEHOLDER]
MTN_MOMO_USER_ID=[MTN_USER_ID_PLACEHOLDER]
MTN_MOMO_SUBSCRIPTION_KEY=[MTN_SUBSCRIPTION_KEY_PLACEHOLDER]
MTN_MOMO_PRIMARY_KEY=[MTN_PRIMARY_KEY_PLACEHOLDER]

VODAFONE_CASH_API_URL=https://api.vodafone.com.gh/payment/v1
VODAFONE_CASH_API_KEY=[VODAFONE_API_KEY_PLACEHOLDER]
VODAFONE_CASH_CLIENT_ID=[VODAFONE_CLIENT_ID_PLACEHOLDER]

AIRTELTIGO_MONEY_API_URL=https://api.airteltigo.com.gh/payment/v1
AIRTELTIGO_MONEY_API_KEY=[AIRTELTIGO_API_KEY_PLACEHOLDER]

# File Storage (AWS S3)
AWS_ACCESS_KEY_ID=[AWS_ACCESS_KEY_ID_PLACEHOLDER]
AWS_SECRET_ACCESS_KEY=[AWS_SECRET_ACCESS_KEY_PLACEHOLDER]
AWS_REGION=af-south-1
AWS_S3_BUCKET=gtcx-production
AWS_S3_CDN_URL=https://cdn.gtcx.africa

# Email Configuration (SES)
SMTP_ADDRESS=email-smtp.af-south-1.amazonaws.com
SMTP_PORT=587
SMTP_USERNAME=[SES_USERNAME_PLACEHOLDER]
SMTP_PASSWORD=[SES_PASSWORD_PLACEHOLDER]
SMTP_DOMAIN=gtcx.africa
FROM_EMAIL=notifications@gtcx.africa

# Monitoring & Error Tracking
SENTRY_DSN=[BACKEND_SENTRY_DSN_PLACEHOLDER]
NEW_RELIC_LICENSE_KEY=[NEW_RELIC_LICENSE_KEY_PLACEHOLDER]
DATADOG_API_KEY=[DATADOG_API_KEY_PLACEHOLDER]

# Performance & Caching
CACHE_STORE=redis
CACHE_NAMESPACE=gtcx_production
SESSION_STORE=redis
ACTION_CABLE_ADAPTER=redis

# Background Jobs (Sidekiq)
SIDEKIQ_CONCURRENCY=25
SIDEKIQ_QUEUES=critical,high,default,low
SIDEKIQ_CRON_ENABLED=true

# Logging
LOG_LEVEL=info
LOG_TAGS=request_id,remote_ip
PAPERTRAIL_URL=[PAPERTRAIL_URL_PLACEHOLDER]

# Security
ALLOWED_HOSTS=api.gtcx.africa,gtcx.africa
FORCE_SSL=true
SSL_REDIRECT=true
HSTS_ENABLED=true
SECURE_COOKIES=true

# Health Checks
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_TOKEN=[HEALTH_CHECK_TOKEN_PLACEHOLDER]

# Feature Flags
FEATURE_GOVERNMENT_INTEGRATION=true
FEATURE_MOBILE_MONEY=true
FEATURE_REAL_TIME_TRACKING=true
FEATURE_BLOCKCHAIN_INTEGRATION=false

# Compliance & Audit
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555
GDPR_COMPLIANCE=true
DATA_ENCRYPTION_AT_REST=true

# Rate Limiting
RACK_ATTACK_ENABLED=true
RATE_LIMIT_REQUESTS_PER_HOUR=10000
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# WebSocket Configuration (Action Cable)
ACTION_CABLE_ALLOWED_REQUEST_ORIGINS=https://geotag.africa,https://tradepass.africa,https://tradedesk.africa
ACTION_CABLE_URL=wss://api.gtcx.africa/cable

# Backup Configuration
DATABASE_BACKUP_ENABLED=true
DATABASE_BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90
S3_BACKUP_BUCKET=gtcx-production-backups